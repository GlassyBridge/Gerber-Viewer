(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();const Ul="modulepreload",ql=function(e){return"/"+e},Xn={},Yn=function(t,n,o){let l=Promise.resolve();if(n&&n.length>0){let p=function(i){return Promise.all(i.map(c=>Promise.resolve(c).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var a=p;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),s=u?.nonce||u?.getAttribute("nonce");l=p(n.map(i=>{if(i=ql(i),i in Xn)return;Xn[i]=!0;const c=i.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${f}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":Ul,c||(g.as="script"),g.crossOrigin="",g.href=i,s&&g.setAttribute("nonce",s),document.head.appendChild(g),c)return new Promise((b,m)=>{g.addEventListener("load",b),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${i}`)))})}))}function r(u){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=u,window.dispatchEvent(s),!s.defaultPrevented)throw u}return l.then(u=>{for(const s of u||[])s.status==="rejected"&&r(s.reason);return t().catch(r)})};var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ln={},Fl={get exports(){return ln},set exports(e){ln=e}};(function(e){(function(t,n){e.exports?e.exports=n():t.moo=n()})(jl,function(){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=typeof new RegExp().sticky=="boolean";function l(h){return h&&n.call(h)==="[object RegExp]"}function r(h){return h&&typeof h=="object"&&!l(h)&&!Array.isArray(h)}function a(h){return h.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function u(h){var x=new RegExp("|"+h);return x.exec("").length-1}function s(h){return"("+h+")"}function p(h){if(!h.length)return"(?!)";var x=h.map(function(w){return"(?:"+w+")"}).join("|");return"(?:"+x+")"}function i(h){if(typeof h=="string")return"(?:"+a(h)+")";if(l(h)){if(h.ignoreCase)throw new Error("RegExp /i flag not allowed");if(h.global)throw new Error("RegExp /g flag is implied");if(h.sticky)throw new Error("RegExp /y flag is implied");if(h.multiline)throw new Error("RegExp /m flag is implied");return h.source}else throw new Error("Not a pattern: "+h)}function c(h,x){return h.length>x?h:Array(x-h.length+1).join(" ")+h}function f(h,x){for(var w=h.length,S=0;;){var P=h.lastIndexOf(`
`,w-1);if(P===-1||(S++,w=P,S===x)||w===0)break}var M=S<x?0:w+1;return h.substring(M).split(`
`)}function g(h){for(var x=Object.getOwnPropertyNames(h),w=[],S=0;S<x.length;S++){var P=x[S],M=h[P],O=[].concat(M);if(P==="include"){for(var Z=0;Z<O.length;Z++)w.push({include:O[Z]});continue}var D=[];O.forEach(function(E){r(E)?(D.length&&w.push(m(P,D)),w.push(m(P,E)),D=[]):D.push(E)}),D.length&&w.push(m(P,D))}return w}function b(h){for(var x=[],w=0;w<h.length;w++){var S=h[w];if(S.include){for(var P=[].concat(S.include),M=0;M<P.length;M++)x.push({include:P[M]});continue}if(!S.type)throw new Error("Rule has no type: "+JSON.stringify(S));x.push(m(S.type,S))}return x}function m(h,x){if(r(x)||(x={match:x}),x.include)throw new Error("Matching rules cannot also include states");var w={defaultType:h,lineBreaks:!!x.error||!!x.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var S in x)t.call(x,S)&&(w[S]=x[S]);if(typeof w.type=="string"&&h!==w.type)throw new Error("Type transform cannot be a string (type '"+w.type+"' for token '"+h+"')");var P=w.match;return w.match=Array.isArray(P)?P:P?[P]:[],w.match.sort(function(M,O){return l(M)&&l(O)?0:l(O)?-1:l(M)?1:O.length-M.length}),w}function C(h){return Array.isArray(h)?b(h):g(h)}var k=m("error",{lineBreaks:!0,shouldThrow:!0});function $(h,x){for(var w=null,S=Object.create(null),P=!0,M=null,O=[],Z=[],D=0;D<h.length;D++)h[D].fallback&&(P=!1);for(var D=0;D<h.length;D++){var E=h[D];if(E.include)throw new Error("Inheritance is not allowed in stateless lexers");if(E.error||E.fallback){if(w)throw!E.fallback==!w.fallback?new Error("Multiple "+(E.fallback?"fallback":"error")+" rules not allowed (for token '"+E.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+E.defaultType+"')");w=E}var V=E.match.slice();if(P)for(;V.length&&typeof V[0]=="string"&&V[0].length===1;){var qe=V.shift();S[qe.charCodeAt(0)]=E}if(E.pop||E.push||E.next){if(!x)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+E.defaultType+"')");if(E.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+E.defaultType+"')")}if(V.length!==0){P=!1,O.push(E);for(var fe=0;fe<V.length;fe++){var Ae=V[fe];if(l(Ae)){if(M===null)M=Ae.unicode;else if(M!==Ae.unicode&&E.fallback===!1)throw new Error("If one rule is /u then all must be")}}var je=p(V.map(i)),se=new RegExp(je);if(se.test(""))throw new Error("RegExp matches empty string: "+se);var nt=u(je);if(nt>0)throw new Error("RegExp has capture groups: "+se+`
Use (?: … ) instead`);if(!E.lineBreaks&&se.test(`
`))throw new Error("Rule should declare lineBreaks: "+se);Z.push(s(je))}}var Fe=w&&w.fallback,ot=o&&!Fe?"ym":"gm",Mt=o||Fe?"":"|";M===!0&&(ot+="u");var Zl=new RegExp(p(Z)+Mt,ot);return{regexp:Zl,groups:O,fast:S,error:w||k}}function T(h){var x=$(C(h));return new U({start:x},"start")}function xe(h,x,w){var S=h&&(h.push||h.next);if(S&&!w[S])throw new Error("Missing state '"+S+"' (in token '"+h.defaultType+"' of state '"+x+"')");if(h&&h.pop&&+h.pop!=1)throw new Error("pop must be 1 (in token '"+h.defaultType+"' of state '"+x+"')")}function Me(h,x){var w=h.$all?C(h.$all):[];delete h.$all;var S=Object.getOwnPropertyNames(h);x||(x=S[0]);for(var P=Object.create(null),M=0;M<S.length;M++){var O=S[M];P[O]=C(h[O]).concat(w)}for(var M=0;M<S.length;M++)for(var O=S[M],Z=P[O],D=Object.create(null),E=0;E<Z.length;E++){var V=Z[E];if(V.include){var qe=[E,1];if(V.include!==O&&!D[V.include]){D[V.include]=!0;var fe=P[V.include];if(!fe)throw new Error("Cannot include nonexistent state '"+V.include+"' (in state '"+O+"')");for(var Ae=0;Ae<fe.length;Ae++){var je=fe[Ae];Z.indexOf(je)===-1&&qe.push(je)}}Z.splice.apply(Z,qe),E--}}for(var se=Object.create(null),M=0;M<S.length;M++){var O=S[M];se[O]=$(P[O],!0)}for(var M=0;M<S.length;M++){for(var nt=S[M],Fe=se[nt],ot=Fe.groups,E=0;E<ot.length;E++)xe(ot[E],nt,se);for(var Mt=Object.getOwnPropertyNames(Fe.fast),E=0;E<Mt.length;E++)xe(Fe.fast[Mt[E]],nt,se)}return new U(se,x)}function $e(h){for(var x=typeof Map<"u",w=x?new Map:Object.create(null),S=Object.getOwnPropertyNames(h),P=0;P<S.length;P++){var M=S[P],O=h[M],Z=Array.isArray(O)?O:[O];Z.forEach(function(D){if(typeof D!="string")throw new Error("keyword must be string (in keyword '"+M+"')");x?w.set(D,M):w[D]=M})}return function(D){return x?w.get(D):w[D]}}var U=function(h,x){this.startState=x,this.states=h,this.buffer="",this.stack=[],this.reset()};U.prototype.reset=function(h,x){return this.buffer=h||"",this.index=0,this.line=x?x.line:1,this.col=x?x.col:1,this.queuedToken=x?x.queuedToken:null,this.queuedText=x?x.queuedText:"",this.queuedThrow=x?x.queuedThrow:null,this.setState(x?x.state:this.startState),this.stack=x&&x.stack?x.stack.slice():[],this},U.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},U.prototype.setState=function(h){if(!(!h||this.state===h)){this.state=h;var x=this.states[h];this.groups=x.groups,this.error=x.error,this.re=x.regexp,this.fast=x.fast}},U.prototype.popState=function(){this.setState(this.stack.pop())},U.prototype.pushState=function(h){this.stack.push(this.state),this.setState(h)};var Ft=o?function(h,x){return h.exec(x)}:function(h,x){var w=h.exec(x);return w[0].length===0?null:w};U.prototype._getGroup=function(h){for(var x=this.groups.length,w=0;w<x;w++)if(h[w+1]!==void 0)return this.groups[w];throw new Error("Cannot find token type for matched text")};function Vt(){return this.value}if(U.prototype.next=function(){var h=this.index;if(this.queuedGroup){var x=this._token(this.queuedGroup,this.queuedText,h);return this.queuedGroup=null,this.queuedText="",x}var w=this.buffer;if(h!==w.length){var O=this.fast[w.charCodeAt(h)];if(O)return this._token(O,w.charAt(h),h);var S=this.re;S.lastIndex=h;var P=Ft(S,w),M=this.error;if(P==null)return this._token(M,w.slice(h,w.length),h);var O=this._getGroup(P),Z=P[0];return M.fallback&&P.index!==h?(this.queuedGroup=O,this.queuedText=Z,this._token(M,w.slice(h,P.index),h)):this._token(O,Z,h)}},U.prototype._token=function(h,x,w){var S=0;if(h.lineBreaks){var P=/\n/g,M=1;if(x===`
`)S=1;else for(;P.exec(x);)S++,M=P.lastIndex}var O={type:typeof h.type=="function"&&h.type(x)||h.defaultType,value:typeof h.value=="function"?h.value(x):x,text:x,toString:Vt,offset:w,lineBreaks:S,line:this.line,col:this.col},Z=x.length;if(this.index+=Z,this.line+=S,S!==0?this.col=Z-M+1:this.col+=Z,h.shouldThrow){var D=new Error(this.formatError(O,"invalid syntax"));throw D}return h.pop?this.popState():h.push?this.pushState(h.push):h.next&&this.setState(h.next),O},typeof Symbol<"u"&&Symbol.iterator){var Ht=function(h){this.lexer=h};Ht.prototype.next=function(){var h=this.lexer.next();return{value:h,done:!h}},Ht.prototype[Symbol.iterator]=function(){return this},U.prototype[Symbol.iterator]=function(){return new Ht(this)}}return U.prototype.formatError=function(S,x){if(S==null)var w=this.buffer.slice(this.index),S={text:w,offset:this.index,lineBreaks:w.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var P=2,M=Math.max(S.line-P,1),O=S.line+P,Z=String(O).length,D=f(this.buffer,this.line-S.line+P+1).slice(0,5),E=[];E.push(x+" at line "+S.line+" col "+S.col+":"),E.push("");for(var V=0;V<D.length;V++){var qe=D[V],fe=M+V;E.push(c(String(fe),Z)+"  "+qe),fe===S.line&&E.push(c("",Z+S.col+1)+"^")}return E.join(`
`)},U.prototype.clone=function(){return new U(this.states,this.state)},U.prototype.has=function(h){return!0},{compile:T,states:Me,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:$e}})})(Fl);const Lo=ln,it="T_CODE",N="G_CODE",Pe="M_CODE",ge="D_CODE",_="ASTERISK",X="PERCENT",Oo="EQUALS",Je="COMMA",Oe="OPERATOR",rn="GERBER_FORMAT",Lt="GERBER_UNITS",To="GERBER_TOOL_MACRO",No="GERBER_TOOL_DEF",zo="GERBER_LOAD_POLARITY",Do="GERBER_STEP_REPEAT",ut="GERBER_MACRO_VARIABLE",Ro="SEMICOLON",Bo="DRILL_UNITS",an="DRILL_ZERO_INCLUSION",j="COORD_CHAR",F="NUMBER",Vl="WORD",Hl="WHITESPACE",ve="NEWLINE",Wl="CATCHALL",Gl="ERROR",Xl=/^0*/,Io=e=>e.replace(Xl,""),Et=e=>Io(e.slice(1))||"0",Yl={[it]:{match:/T\d+/,value:Et},[N]:{match:/G\d+/,value:Et},[Pe]:{match:/M\d+/,value:Et},[ge]:{match:/D\d+/,value:Et},[_]:"*",[X]:"%",[Oo]:"=",[rn]:{match:/FS[LTDAI]+/,value:e=>e.slice(2)},[Lt]:{match:/MO(?:IN|MM)/,value:e=>e.slice(2)},[To]:{match:/AM[a-zA-Z_.$][\w.-]*/,value:e=>e.slice(2)},[No]:{match:/ADD\d+[a-zA-Z_.$][\w.-]*/,value:e=>Io(e.slice(3))},[zo]:{match:/LP[DC]/,value:e=>e.slice(2)},[Do]:"SR",[ut]:/\$\d+/,[Ro]:";",[Bo]:/^(?:METRIC|INCH)/,[an]:{match:/,(?:TZ|LZ)/,value:e=>e.slice(1)},[j]:/[XYIJACFSBHZN]/,[F]:/[+-]?[\d.]+/,[Oe]:["x","/","+","-","(",")"],[Je]:",",[Vl]:/[a-zA-Z]+/,[Hl]:/[ \t]+/,[ve]:{match:/\r?\n/,lineBreaks:!0},[Wl]:/\S/,[Gl]:Lo.error};function Kl(){const e=Lo.compile(Yl);return{feed:t};function t(o,l=null){return e.reset(o,l??void 0),n(l?.offset??0)}function n(o){return{[Symbol.iterator](){return this},next(){const l=e.next();if(l){const r={...l,offset:o+l.offset},a={...e.save(),offset:o+(e.index??0)};return{value:[r,a]}}return{value:void 0,done:!0}}}}}const En="gerber",bt="drill",Pn="mm",Rt="in",at="leading",ct="trailing",Jl="absolute",Ql="incremental",Bt="circle",$n="rectangle",sn="obround",_o="polygon",Zo="macroShape",er="1",tr="2",nr="20",or="21",lr="22",rr="4",ir="5",ar="6",sr="7",Ge="shape",pt="move",st="segment",Uo="slot",qo="line",An="cwArc",Ln="ccwArc",jo="single",ur="multi",cr="dark",pr="clear",It="TOKEN",Ee="MIN_TO_MAX";function d(e,t){return{rule:It,type:e,value:t}}function Te(e,t){return{rule:It,type:e,value:t,negate:!0}}function ke(e){return{rule:Ee,min:1,max:1,match:e}}function dt(e){return{rule:Ee,min:0,max:1,match:e}}function be(e){return{rule:Ee,min:0,max:Number.POSITIVE_INFINITY,match:e}}function Fo(e){return{rule:Ee,min:1,max:Number.POSITIVE_INFINITY,match:e}}function Ne(e,t,n){return{rule:Ee,min:e,max:t,match:n}}function Vo(e,t){const n=[];for(const o of t){const l=hr(e,o.rules);if(l===Wo)n.push(o);else if(l===Ho)return{filetype:o.filetype,nodes:o.createNodes(e)}}return n.length>0?{candidates:n,tokens:e}:{}}const Ho="FULL_MATCH",Wo="PARTIAL_MATCH",dr="NO_MATCH";function hr(e,t){let n=0,o=0,l=0;for(;n<t.length&&o<e.length;){const r=t[n],a=e[o];if(Go(r,a))r.rule===It||r.rule===Ee&&l>=r.max-1?(n++,o++,l=0):r.rule===Ee&&(o++,l++);else if(r.rule===Ee&&l>=r.min)l=0,n++;else return dr}return n<t.length?Wo:Ho}function Go(e,t){if(e.rule===It){const n=e.type===t.type,o=e.value===null||typeof e.value>"u"||typeof e.value=="string"&&e.value===t.value||e.value instanceof RegExp&&e.value.test(t.value),l=n&&o;return e.negate?!l:l}return Array.isArray(e.match)?e.match.some(n=>Go(n,t)):!1}const fr="root",On="comment",mr="drillHeader",Tn="done",_t="units",Nn="coordinateFormat",Ot="toolDefinition",Xo="toolMacro",Zt="toolChange",gr="loadPolarity",yr="stepRepeat",Be="graphic",Qe="interpolateMode",un="regionMode",Yo="quadrantMode",vr="unimplemented",br="macroComment",Ko="macroVariable",Jo="macroPrimitive";function ze(e){return Object.fromEntries(e.map((t,n)=>[t,e[n-1]]).filter(([t,n])=>t.type===F&&n?.type===j).map(([t,n])=>[n.value.toLowerCase(),t.value]))}function Ut(e){return e.filter(t=>t.type===N).map(t=>t.value==="0"?pt:t.value==="1"?qo:t.value==="2"?An:t.value==="3"?Ln:t.value==="5"?bt:null)[0]??null}function xr(e){return e.filter(t=>t.type===ge).map(t=>t.value==="1"?st:t.value==="2"?pt:t.value==="3"?Ge:null)[0]??null}function zn(e){return e.map(t=>t.value).join("").trim()}function z(e,t={}){const{head:n=e[0],length:o=0}=t,l=o>0?e[e.indexOf(n)+o-1]:e[e.length-1];return{start:{line:n.line,column:n.col,offset:n.offset},end:{line:l.line,column:l.col,offset:l.offset}}}const wr={name:"units",rules:[ke([d(Bo),d(Pe,"71"),d(Pe,"72")]),be([d(Je),d(an),d(F,/^0{1,8}\.0{1,8}$/)]),d(ve)],createNodes(e){const t=e[0].value==="INCH"||e[0].value==="72"?Rt:Pn,n=e.filter(r=>r.type===an).map(r=>r.value==="LZ"?ct:r.value==="TZ"?at:null),o=e.filter(r=>r.type===F).map(r=>{const[a="",u=""]=r.value.split(".");return[a.length,u.length]}),l=[{type:_t,position:z(e.slice(0,2)),units:t}];return(n.length>0||o.length>0)&&l.push({type:Nn,position:z(e.slice(1)),mode:null,format:o[0]??null,zeroSuppression:n[0]??null}),l}},Sr={name:"tool",rules:[d(it),Ne(0,12,[d(j,"C"),d(j,"F"),d(j,"S"),d(j,"B"),d(j,"H"),d(j,"Z"),d(F)]),d(ve)],createNodes(e){const t=e[0].value,n=z(e),{c:o=null}=ze(e.slice(1,-1)),l=o===null?null:{type:Bt,diameter:Number(o)};return l?[{type:Ot,hole:null,position:n,shape:l,code:t}]:[{type:Zt,position:n,code:t}]}},Cr={name:"operationMode",rules:[ke([d(N,"0"),d(N,"1"),d(N,"2"),d(N,"3"),d(N,"5")]),d(ve)],createNodes:e=>[{type:Qe,position:z(e),mode:Ut(e)}]},kr={name:"operation",rules:[Ne(0,2,[d(it),d(N,"0"),d(N,"1"),d(N,"2"),d(N,"3"),d(N,"5")]),Ne(2,8,[d(j),d(F)]),dt([d(it)]),d(ve)],createNodes(e){const t=e.filter(c=>c.type===j||c.type===F),n=e.find(c=>c.type===N),o=e.find(c=>c.type===it),l=ze(t),r=o?o.value:null,a=Ut(e),u=z(e,{head:t[0],length:t.length+1}),s=z(e,{head:n,length:2}),p=z(e,{head:o,length:2}),i=[{type:Be,position:u,graphic:null,coordinates:l}];return a&&i.unshift({type:Qe,position:s,mode:a}),r&&i.unshift({type:Zt,position:p,code:r}),i}},Mr={name:"slot",rules:[Ne(2,4,[d(j),d(F)]),d(N,"85"),Ne(2,4,[d(j),d(F)]),d(ve)],createNodes(e){const t=e.find(r=>r.type===N),n=t?e.indexOf(t):-1,o=Object.fromEntries(Object.entries(ze(e.slice(0,n))).map(([r,a])=>[`${r}0`,a])),l=ze(e.slice(n));return[{type:Be,position:z(e),graphic:Uo,coordinates:{...o,...l}}]}},Er={name:"done",rules:[ke([d(Pe,"30"),d(Pe,"0")]),d(ve)],createNodes:e=>[{type:Tn,position:z(e)}]},Pr={name:"header",rules:[ke([d(Pe,"48"),d(X)]),d(ve)],createNodes:e=>[{type:mr,position:z(e)}]},$r={name:"comment",rules:[d(Ro),be([Te(ve)]),d(ve)],createNodes:e=>[{type:On,comment:zn(e.slice(1,-1)),position:z(e)}]},Qo=[Sr,Cr,kr,Mr,$r,wr,Er,Pr].map(e=>({...e,filetype:bt})),Ar={name:"macroComment",rules:[d(F,"0"),be([Te(_)]),d(_)],createNodes:Tr},Lr={name:"macroVariable",rules:[d(ut),d(Oo),Fo([d(F),d(Oe),d(ut),d(j,"X")]),d(_)],createNodes:zr},Or={name:"macroPrimitive",rules:[d(F),d(Je),Fo([d(Je),d(F),d(Oe),d(ut),d(j,"X")]),d(_)],createNodes:Nr};function Tr(e){const t=e.slice(1,-1).map(n=>n.text).join("").trim();return[{type:br,position:z(e),comment:t}]}function Nr(e){const t=e[0].value,n=[[]];let o=n[0];for(const r of e.slice(2,-1))r.type===Je?(o=[],n.push(o)):o.push(r);const l=n.map(r=>el(r));return[{type:Jo,position:z(e),code:t,parameters:l}]}function zr(e){const t=e[0].value,n=el(e.slice(2,-1));return[{type:Ko,position:z(e),name:t,value:n}]}function el(e){const t=e.map(a=>a.type===j?{...a,type:Oe,value:"x"}:a);return r();function n(){return t[0]??null}function o(){const a=t.shift();if(a.type===F)return Number(a.value);if(a.type===ut)return a.value;const u=r();return t.shift(),u}function l(){let a=o(),u=n();for(;u?.type===Oe&&(u.value==="x"||u.value==="/");)t.shift(),a={left:a,right:o(),operator:u.value},u=n();return a}function r(){let a=l(),u=n();for(;u?.type===Oe&&(u.value==="+"||u.value==="-")||u?.type===F;){let s="+";u.type===Oe&&(t.shift(),s=u.value);const p=l();a={left:a,right:p,operator:s},u=n()}return a}}const Kn=[Or,Lr,Ar];function Dr(e){let t=Kn,n=[];const o=[];for(const l of e){const r=Vo([...n,l],t);r.nodes&&o.push(...r.nodes),n=r.tokens??[],t=r.candidates??Kn}return o}const Wt=e=>{if(e.length===1){const[t]=e;return{type:Bt,diameter:t}}if(e.length===2){const[t,n]=e;return{type:$n,xSize:t,ySize:n}}return null},Rr={name:"done",rules:[ke([d(Pe,"0"),d(Pe,"2")]),d(_)],createNodes:e=>[{type:Tn,position:z(e)}]},Br={name:"comment",rules:[d(N,"4"),be([Te(_)]),d(_)],createNodes:e=>[{type:On,position:z(e),comment:zn(e.slice(1,-1))}]},Ir={name:"format",rules:[d(X),d(rn),be([Te(j,"X")]),d(j,"X"),d(F),d(j,"Y"),d(F),be([Te(_)]),d(_),Ne(0,2,[d(Lt),d(_)]),d(X)],createNodes(e){var t;let n=null,o=null,l=null;const r=ze(e),a=e.findIndex(p=>p.type===_),u=e.find(p=>p.type===Lt);for(const p of e.filter(i=>i.type===rn))p.value.includes("T")&&(o=ct),p.value.includes("L")&&(o=at),p.value.includes("I")&&(l=Ql),p.value.includes("A")&&(l=Jl);if(r.x===r.y&&((t=r.x)==null?void 0:t.length)===2){const p=Number(r.x[0]),i=Number(r.x[1]);p&&i&&(n=[p,i])}const s=[{type:Nn,position:z(e.slice(1,a+1)),zeroSuppression:o,format:n,mode:l}];return u&&s.push({type:_t,position:z(e.slice(1,-1),{head:u}),units:u.value==="MM"?Pn:Rt}),s}},_r={name:"units",rules:[d(X),d(Lt),d(_),d(X)],createNodes:e=>[{type:_t,position:z(e.slice(1,-1)),units:e[1].value==="MM"?Pn:Rt}]},Zr={name:"toolMacro",rules:[d(X),d(To),d(_),be([Te(X)]),d(X)],createNodes(e){const t=e[1].value,n=z(e.slice(1,-1)),o=e.slice(3,-1);return[{type:Xo,position:n,children:Dr(o),name:t}]}},Ur={name:"toolDefinition",rules:[d(X),d(No),be([d(Je),d(F),d(j,"X")]),d(_),d(X)],createNodes(e){let t,n=null;const o=/(\d+)(.+)/.exec(e[1].value),[,l="",r=""]=o??[],a=e.slice(3,-2).filter(u=>u.type===F).map(u=>Number(u.value));switch(r){case"C":{const[u,...s]=a;t={type:Bt,diameter:u},n=Wt(s);break}case"R":case"O":{const[u,s,...p]=a;t={type:r==="R"?$n:sn,xSize:u,ySize:s},n=Wt(p);break}case"P":{const[u,s,p=null,...i]=a;t={type:_o,diameter:u,vertices:s,rotation:p},n=Wt(i);break}default:t={type:Zo,name:r,variableValues:a}}return[{type:Ot,position:z(e.slice(1,-1)),code:l,shape:t,hole:n}]}},qr={name:"toolChange",rules:[dt([d(N,"54")]),d(ge),d(_)],createNodes:e=>[{type:Zt,position:z(e),code:e.find(t=>t.type===ge).value}]},tl=e=>{const t=xr(e),n=ze(e),o=Ut(e),l=z(e,{head:o?e[1]:e[0]}),r=[{type:Be,position:l,graphic:t,coordinates:n}];if(o){const a=z(e,{head:e[0],length:2});r.unshift({type:Qe,position:a,mode:o})}return r},jr={name:"operation",rules:[dt([d(N,"1"),d(N,"2"),d(N,"3")]),Ne(2,8,[d(j),d(F)]),dt([d(ge,"1"),d(ge,"2"),d(ge,"3")]),d(_)],createNodes:tl},Fr={name:"operationWithoutCoords",rules:[dt([d(N,"1"),d(N,"2"),d(N,"3")]),ke([d(ge,"1"),d(ge,"2"),d(ge,"3")]),d(_)],createNodes:tl},Vr={name:"interpolationMode",rules:[ke([d(N,"1"),d(N,"2"),d(N,"3")]),d(_)],createNodes:e=>[{type:Qe,position:z(e),mode:Ut(e)}]},Hr={name:"regionMode",rules:[ke([d(N,"36"),d(N,"37")]),d(_)],createNodes:e=>[{type:un,position:z(e),region:e[0].value==="36"}]},Wr={name:"quadrantMode",rules:[ke([d(N,"74"),d(N,"75")]),d(_)],createNodes:e=>[{type:Yo,position:z(e),quadrant:e[0].value==="74"?jo:ur}]},Gr={name:"loadPolarity",rules:[d(X),d(zo),d(_),d(X)],createNodes:e=>[{type:gr,position:z(e.slice(1,-1)),polarity:e[1].value==="D"?cr:pr}]},Xr={name:"stepRepeat",rules:[d(X),d(Do),be([d(j),d(F)]),d(_),d(X)],createNodes(e){const t=ze(e),n=Object.fromEntries(Object.entries(t).map(([o,l])=>[o,Number(l)]));return[{type:yr,position:z(e.slice(1,-1)),stepRepeat:n}]}},Yr={name:"unimplementedExtendedCommand",rules:[d(X),be([Te(_)]),d(_),d(X)],createNodes:e=>[{type:vr,position:z(e.slice(1,-1)),value:zn(e)}]},nl=[jr,Fr,Vr,qr,Ur,Zr,Br,Hr,Wr,Gr,Xr,Ir,_r,Rr,Yr].map(e=>({...e,filetype:En})),Kr=[...nl,...Qo];function Jr(e,t=null){const n=[];let o=u(),l=[],r=null,a="";for(const[s,p]of e){const i=Vo([...l,s],o);i.nodes?(n.push(...i.nodes),r=p,a=""):a+=s.text,t=t??i.filetype??null,l=i.tokens??[],o=i.candidates??u()}return{filetype:t,unmatched:a,nodes:n,lexerState:r};function u(){return t===En?nl:t===bt?Qo:Kr}}function Qr(){const e=Kl(),t=[];let n=null,o=null,l="";const r={lexer:e,feed:a,result:u};return r;function a(s){const p=e.feed(`${l}${s}`,o),i=Jr(p,n);return n=n??i.filetype,l=i.unmatched,o=i.lexerState??o,t.push(...i.nodes),r}function u(){if(n===null)throw new Error("File type not recognized");return{type:fr,filetype:n,children:t}}}function ei(e){return Qr().feed(e).result()}const ti="image",ht="imageShape",xt="imagePath",Dn="imageRegion",Y="line",de="arc",Ie="circle",wt="rectangle",re="polygon",St="outline",qt="layeredShape",{PI:De}=Math,we=De/2,ol=3*we,me=2*De;function cn(e){return e>=0&&e<=me?e:e<0?e+me:e>me?e-me:cn(e)}function Jn(e){return e>=we?e-we:e+ol}function ll(e){return e*Math.PI/180}function ye(e,t,n=0){const o=ll(n),[l,r]=[Math.sin(o),Math.cos(o)],[a,u]=e,s=a*r-u*l+t[0],p=a*l+u*r+t[1];return[s,p]}function Rn(e,t){return e[0]===t[0]&&e[1]===t[1]}function pn(e){return e.length===0}function rl(){return[]}function il(e,t){return pn(e)?t:pn(t)?e:[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[2]),Math.max(e[3],t[3])]}function ft(e){return e.reduce(il,rl())}function al(e){return ft(e.map(sl))}function sl(e){return e.type===ht?Bn(e.shape):In(e.segments,e.type===xt?e.width:void 0)}function Bn(e){switch(e.type){case Ie:{const{cx:t,cy:n,r:o}=e;return dn([t,n],o)}case wt:{const{x:t,y:n,xSize:o,ySize:l}=e;return[t,n,t+o,n+l]}case re:return ft(e.points.map(t=>dn(t)));case St:return In(e.segments);case qt:return ft(e.shapes.filter(({erase:t})=>!t).map(Bn))}}function In(e,t=0){const n=t/2,o=[];for(const l of e)if(o.push(l.start,l.end),l.type===de){const{start:r,end:a,center:u,radius:s}=l,p=Math.abs(a[2]-r[2]);let[i,c]=a[2]>r[2]?[r[2],a[2]]:[a[2],r[2]];i=cn(i),c=cn(c);const f=[[u[0]+s,u[1]],[u[0],u[1]+s],[u[0]-s,u[1]],[u[0],u[1]-s]];for(const g of f)(i>c||p===me)&&o.push(g),i=Jn(i),c=Jn(c)}return ft(o.map(l=>dn(l,n)))}function dn(e,t=0){return[e[0]-t,e[1]-t,e[0]+t,e[1]+t]}const mt=Object.freeze(Object.defineProperty({__proto__:null,add:il,empty:rl,fromGraphic:sl,fromGraphics:al,fromPath:In,fromShape:Bn,isEmpty:pn,sum:ft},Symbol.toStringTag,{value:"Module"})),ni=/FORMAT={?(\d):(\d)/;function oi(e){const{children:t}=e;let n=null,o=null,l=null,r=0;for(;r<t.length&&(n===null||o===null||l===null);){const a=t[r];switch(a.type){case _t:{n=a.units;break}case Nn:{o=a.format,l=a.zeroSuppression;break}case Be:{const{coordinates:u}=a;for(const s of Object.values(u)){if(l!==null)break;s.endsWith("0")||s.includes(".")?l=at:s.startsWith("0")&&(l=ct)}break}case On:{const{comment:u}=a,s=ni.exec(u);/suppress trailing/i.test(u)?l=ct:/(suppress leading|keep zeros)/i.test(u)&&(l=at),s&&(o=[Number(s[1]),Number(s[2])]);break}}r+=1}return{units:n??Rt,coordinateFormat:o??[2,4],zeroSuppression:l??at}}const Tt="simpleTool",ul="macroTool";function li(){return Object.create(ri)}const ri={_currentToolCode:void 0,_toolsByCode:{},_macrosByName:{},use(e){if(e.type===Xo&&(this._macrosByName[e.name]=e.children),e.type===Ot){const{shape:t,hole:n}=e,o=t.type===Zo?{type:ul,macro:this._macrosByName[t.name]??[],variableValues:t.variableValues}:{type:Tt,shape:t,...n&&{hole:n}};this._toolsByCode[e.code]=o}return(e.type===Ot||e.type===Zt)&&(this._currentToolCode=e.code),typeof this._currentToolCode=="string"?this._toolsByCode[this._currentToolCode]:void 0}};function ii(){return Object.create(ai)}const ai={_DEFAULT_ARC_OFFSETS:{i:0,j:0,a:0},_previousPoint:{x:0,y:0},use(e,t){let n=this._DEFAULT_ARC_OFFSETS,o=this._previousPoint,l=o;if(e.type===Be){const{coordinates:r}=e,a=Le(r.x0,o.x,t),u=Le(r.y0,o.y,t),s=Le(r.x,a,t),p=Le(r.y,u,t),i=Le(r.i,0,t),c=Le(r.j,0,t),f=Le(r.a,0,t);(o.x!==a||o.y!==u)&&(o={x:a,y:u}),(l.x!==s||l.y!==p)&&(l={x:s,y:p}),(i!==0||c!==0||f!==0)&&(n={i,j:c,a:f})}return this._previousPoint=l,{startPoint:o,endPoint:l,arcOffsets:n}}};function Le(e,t,n){if(typeof e!="string")return t;if(e.includes(".")||e==="0")return Number(e);const{coordinateFormat:o,zeroSuppression:l}=n,[r,a]=o,[u,s]=e.startsWith("+")||e.startsWith("-")?[e[0],e.slice(1)]:["+",e],p=r+a,i=l===ct?s.padEnd(p,"0"):s.padStart(p,"0"),c=i.slice(0,r),f=i.slice(r);return+`${u}${c}.${f}`}function Qn(e,t){const{x:n,y:o}=t;switch(e.type){case Bt:{const{diameter:l}=e;return{type:Ie,cx:n,cy:o,r:l/2}}case $n:case sn:{const{xSize:l,ySize:r}=e,a=l/2,u=r/2,s={type:wt,x:n-a,y:o-u,xSize:l,ySize:r};return e.type===sn&&(s.r=Math.min(a,u)),s}case _o:{const{diameter:l,rotation:r,vertices:a}=e,u=l/2,s=ll(r??0),p=me/a,i=Array.from({length:a}).map((c,f)=>{const g=p*f+s,b=n+u*Math.cos(g),m=o+u*Math.sin(g);return[b,m]});return{type:re,points:i}}}}function hn(e){if(e.type===Ie){const{cx:t,cy:n,r:o}=e;return[{type:de,start:[t+o,n,0],end:[t+o,n,me],center:[t,n],radius:o}]}if(e.type===wt){const{x:t,y:n,xSize:o,ySize:l,r}=e;return r===o/2?[{type:Y,start:[t+o,n+r],end:[t+o,n+l-r]},{type:de,start:[t+o,n+l-r,0],end:[t,n+l-r,De],center:[t+r,n+l-r],radius:r},{type:Y,start:[t,n+l-r],end:[t,n+r]},{type:de,start:[t,n+r,De],end:[t+o,n+r,me],center:[t+r,n+r],radius:r}]:r===l/2?[{type:Y,start:[t+r,n],end:[t+o-r,n]},{type:de,start:[t+o-r,n,-we],end:[t+o-r,n+l,we],center:[t+o-r,n+r],radius:r},{type:Y,start:[t+o-r,n+l],end:[t+r,n+l]},{type:de,start:[t+r,n+l,we],end:[t+r,n,ol],center:[t+r,n+r],radius:r}]:[{type:Y,start:[t,n],end:[t+o,n]},{type:Y,start:[t+o,n],end:[t+o,n+l]},{type:Y,start:[t+o,n+l],end:[t,n+l]},{type:Y,start:[t,n+l],end:[t,n]}]}return e.type===re?e.points.map((t,n)=>{const o=n<e.points.length-1?n+1:0;return{type:Y,start:t,end:e.points[o]}}):e.segments}function si(e,t){const{shape:n,hole:o}=e,l=Qn(n,t.endPoint),r=o?Qn(o,t.endPoint):void 0;return r===void 0?l:{type:St,segments:[...hn(l),...hn(r)]}}function ui(e,t){const n=e.filter(o=>o.type===Y).map(o=>ci(o,t));return{type:ht,shape:{type:qt,shapes:n}}}function ci(e,t){const{start:n,end:o}=e,[l,r]=n,[a,u]=o,[s,p]=[t.xSize/2,t.ySize/2],i=Math.atan2(u-r,a-u),[c,f]=[l-s,l+s],[g,b]=[r-p,r+p],[m,C]=[a-s,a+s],[k,$]=[u-p,u+p];let T=[];return Rn(n,o)?T=[[c,g],[f,g],[C,k],[C,$],[m,$],[c,b]]:i>=0&&i<we?T=[[c,g],[f,g],[C,k],[C,$],[m,$],[c,b]]:i>=we&&i<=De?T=[[f,g],[f,b],[C,$],[m,$],[m,k],[c,g]]:i>=-De&&i<-we?T=[[f,b],[c,b],[m,$],[m,k],[C,k],[f,g]]:T=[[c,b],[c,g],[m,k],[C,k],[C,$],[f,b]],{type:re,points:T}}const cl="cw",_n="ccw";function eo(e,t,n){return t===void 0?pl(e):pi(e,t,n)}function to(e,t,n=!1){if(e.length>0){if(n)return{type:Dn,segments:e};if(t?.type===Tt&&t.shape.type===Ie)return{type:xt,width:t.shape.diameter,segments:e};if(t?.type===Tt&&t.shape.type===wt)return ui(e,t.shape)}}function pl(e){return{type:Y,start:[e.startPoint.x,e.startPoint.y],end:[e.endPoint.x,e.endPoint.y]}}function pi(e,t,n=!1){const{startPoint:o,endPoint:l,arcOffsets:r}=e,a=r.a>0?r.a:(r.i**2+r.j**2)**.5;if(n||r.a>0){if(o.x===l.x&&o.y===l.y)return pl(e);const[c,f,g]=di(e,a).map(b=>Nt(o,l,b,t)).sort(([b,m],[C,k])=>{const $=Math.abs(m[2]-b[2]),T=Math.abs(k[2]-C[2]);return $-T})[0];return{type:de,start:c,end:f,center:g,radius:a}}const u={x:o.x+r.i,y:o.y+r.j},[s,p,i]=Nt(o,l,u,t);return{type:de,start:s,end:p,center:i,radius:a}}function Nt(e,t,n,o){let l=Math.atan2(e.y-n.y,e.x-n.x),r=Math.atan2(t.y-n.y,t.x-n.x);return o===_n?r=r>l?r:r+me:l=l>r?l:l+me,[[e.x,e.y,l],[t.x,t.y,r],[n.x,n.y]]}function di(e,t){const{x:n,y:o}=e.startPoint,{x:l,y:r}=e.endPoint,[a,u]=[l-n,r-o],[s,p]=[l+n,r+o],i=Math.sqrt(a**2+u**2);if(t<=i/2)return[{x:n+a/2,y:o+u/2}];const c=Math.sqrt(4*t**2/i**2-1),[f,g]=[s/2,p/2],[b,m]=[u*c/2,a*c/2];return[{x:f+b,y:g-m},{x:f-b,y:g+m}]}function hi(e,t){const n=[],o=Object.fromEntries(e.variableValues.map((l,r)=>[`$${r+1}`,l]));for(const l of e.macro)if(l.type===Ko&&(o[l.name]=zt(l.value,o)),l.type===Jo){const r=[t.endPoint.x,t.endPoint.y],a=l.parameters.map(u=>zt(u,o));n.push(...fi(l.code,r,a))}return{type:qt,shapes:n}}function zt(e,t){if(typeof e=="number")return e;if(typeof e=="string")return t[e];const n=zt(e.left,t),o=zt(e.right,t);switch(e.operator){case"+":return n+o;case"-":return n-o;case"x":return n*o;case"/":return n/o}}function fi(e,t,n){switch(e){case er:return[mi(t,n)];case nr:case tr:return[gi(t,n)];case or:return[yi(t,n)];case lr:return[vi(t,n)];case rr:return[bi(t,n)];case ir:return[xi(t,n)];case ar:return wi(t,n);case sr:return[Si(t,n)]}return[]}function mi(e,t){const[n,o,l,r,a]=t,u=o/2,[s,p]=ye([l,r],e,a);return{type:Ie,erase:n===0,cx:s,cy:p,r:u}}function gi(e,t){const[n,o,l,r,a,u,s]=t,[p,i]=[u-r,a-l],c=o/2,f=Math.sqrt(p**2+i**2),[g,b]=[c*i/f,c*p/f];return{type:re,erase:n===0,points:[[l+g,r-b],[a+g,u-b],[a-g,u+b],[l-g,r+b]].map(m=>ye(m,e,s))}}function yi(e,t){const[n,o,l,r,a,u]=t,[s,p]=[o/2,l/2];return{type:re,erase:n===0,points:[[r-s,a-p],[r+s,a-p],[r+s,a+p],[r-s,a+p]].map(i=>ye(i,e,u))}}function vi(e,t){const[n,o,l,r,a,u]=t;return{type:re,erase:n===0,points:[[r,a],[r+o,a],[r+o,a+l],[r,a+l]].map(s=>ye(s,e,u))}}function bi(e,t){const[n,,...o]=t.slice(0,-1),l=t[t.length-1];return{type:re,erase:n===0,points:o.flatMap((r,a)=>a%2===1?[[o[a-1],r]]:[]).map(r=>ye(r,e,l))}}function xi(e,t){const[n,o,l,r,a,u]=t,s=a/2,p=2*De/o,i=[];let c;for(c=0;c<o;c++){const f=p*c,g=l+s*Math.cos(f),b=r+s*Math.sin(f);i.push(ye([g,b],e,u))}return{type:re,erase:n===0,points:i}}function wi(e,t){const n=$=>ye($,e,t[8]),[o,l,r,a,u,s,p,i]=t,[c,f]=n([o,l]),g=p/2,b=i/2,m=[];let C=0,k=r;for(;k>=0&&C<s;){const $=k/2,T=$-a;m.push($),T>0&&m.push(T),C+=1,k=2*(T-u)}return[{type:St,segments:m.flatMap($=>hn({type:Ie,cx:c,cy:f,r:$}))},{type:re,points:[[o-g,l-b],[o+g,l-b],[o+g,l+b],[o-g,l+b]].map(n)},{type:re,points:[[o-b,l-g],[o+b,l-g],[o+b,l+g],[o-b,l+g]].map(n)}]}function Si(e,t){const[n,o,l,r,a,u]=t,s=ye([n,o],e,u),[p,i]=[l/2,r/2],c=a/2,f=p**2-c**2,g=i**2-c**2,b=Math.sqrt(f),m=g>=0?Math.sqrt(g):c,C=[0,90,180,270],k=[];for(const $ of C){const T=[[m,c],[b,c],[c,b],[c,m]].map(U=>ye(U,[n,o],$)).map(U=>ye(U,e,u)),[xe,Me,$e]=Nt({x:T[1][0],y:T[1][1]},{x:T[2][0],y:T[2][1]},{x:s[0],y:s[1]},_n);if(k.push({type:Y,start:T[0],end:T[1]},{type:de,start:xe,end:Me,center:$e,radius:p},{type:Y,start:T[2],end:T[3]}),!Rn(T[0],T[3])){const[U,Ft,Vt]=Nt({x:T[3][0],y:T[3][1]},{x:T[0][0],y:T[0][1]},{x:s[0],y:s[1]},cl);k.push({type:de,start:U,end:Ft,center:Vt,radius:i})}}return{type:St,segments:k}}function Ci(e){const t=Object.create(ki);return e===bt?Object.assign(t,Mi):t}const ki={_currentPath:void 0,_arcDirection:void 0,_ambiguousArcCenter:!1,_regionMode:!1,_defaultGraphic:void 0,plot(e,t,n){const o=[],l=this._setGraphicState(e),r=this._plotCurrentPath(e,t,l);if(r&&o.push(r),l===Ge&&t?.type===Tt&&o.push({type:ht,shape:si(t,n)}),l===Ge&&t?.type===ul&&o.push({type:ht,shape:hi(t,n)}),l===st&&(this._currentPath=this._currentPath??{segments:[],region:this._regionMode,tool:t},this._currentPath.segments.push(eo(n,this._arcDirection,this._ambiguousArcCenter))),l===Uo){const a=to([eo(n)],t);a&&o.push(a)}return o},_setGraphicState(e){if(e.type===Qe&&(this._arcDirection=dl(e.mode)),e.type===Yo&&(this._ambiguousArcCenter=e.quadrant===jo),e.type===un&&(this._regionMode=e.region),e.type===Be)return e.graphic===st?this._defaultGraphic=st:e.graphic!==null&&(this._defaultGraphic=void 0),e.graphic??this._defaultGraphic},_plotCurrentPath(e,t,n){if(this._currentPath!==void 0&&(t!==this._currentPath.tool||e.type===un||e.type===Tn||n===pt&&this._currentPath.region||n===Ge&&this._currentPath!==void 0)){const o=to(this._currentPath.segments,this._currentPath.tool,this._currentPath.region);return this._currentPath=void 0,o}}},Mi={_defaultGraphic:Ge,_ambiguousArcCenter:!0,_setGraphicState(e){if(e.type===Qe){const{mode:t}=e;this._arcDirection=dl(t),t===An||t===Ln||t===qo?this._defaultGraphic=st:t===pt?this._defaultGraphic=pt:this._defaultGraphic=Ge}if(e.type===Be)return e.graphic??this._defaultGraphic}};function dl(e){if(e===Ln)return _n;if(e===An)return cl}function Ei(e){const t=oi(e),n=li(),o=ii(),l=Ci(e.filetype),r=[];for(const a of e.children){const u=n.use(a),s=o.use(a,t),p=l.plot(a,u,s);r.push(...p)}return{type:ti,units:t.units,size:al(r),children:r}}const hl="_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Pi=`-0123456789${hl}`,no=12;function Zn(e=no){return e=e||no,oo(1,hl)+oo(e-1,Pi)}function oo(e,t){const n=t.length;let o="";for(;e>0;)e--,o+=t[Math.floor(Math.random()*n)];return o}class Ct{constructor(t,n,o){this.property=t,this.normal=n,o&&(this.space=o)}}Ct.prototype.property={};Ct.prototype.normal={};Ct.prototype.space=null;function fl(e,t){const n={},o={};let l=-1;for(;++l<e.length;)Object.assign(n,e[l].property),Object.assign(o,e[l].normal);return new Ct(n,o,t)}function gt(e){return e.toLowerCase()}let ie=class{constructor(t,n){this.property=t,this.attribute=n}};ie.prototype.space=null;ie.prototype.boolean=!1;ie.prototype.booleanish=!1;ie.prototype.overloadedBoolean=!1;ie.prototype.number=!1;ie.prototype.commaSeparated=!1;ie.prototype.spaceSeparated=!1;ie.prototype.commaOrSpaceSeparated=!1;ie.prototype.mustUseProperty=!1;ie.prototype.defined=!1;let $i=0;const A=_e(),H=_e(),ml=_e(),y=_e(),B=_e(),Xe=_e(),te=_e();function _e(){return 2**++$i}const fn=Object.freeze(Object.defineProperty({__proto__:null,boolean:A,booleanish:H,commaOrSpaceSeparated:te,commaSeparated:Xe,number:y,overloadedBoolean:ml,spaceSeparated:B},Symbol.toStringTag,{value:"Module"})),Gt=Object.keys(fn);let Un=class extends ie{constructor(t,n,o,l){let r=-1;if(super(t,n),lo(this,"space",l),typeof o=="number")for(;++r<Gt.length;){const a=Gt[r];lo(this,Gt[r],(o&fn[a])===fn[a])}}};Un.prototype.defined=!0;function lo(e,t,n){n&&(e[t]=n)}const Ai={}.hasOwnProperty;function et(e){const t={},n={};let o;for(o in e.properties)if(Ai.call(e.properties,o)){const l=e.properties[o],r=new Un(o,e.transform(e.attributes||{},o),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(o)&&(r.mustUseProperty=!0),t[o]=r,n[gt(o)]=o,n[gt(r.attribute)]=o}return new Ct(t,n,e.space)}const gl=et({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),yl=et({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function vl(e,t){return t in e?e[t]:t}function bl(e,t){return vl(e,t.toLowerCase())}const xl=et({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:bl,properties:{xmlns:null,xmlnsXLink:null}}),wl=et({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:H,ariaAutoComplete:null,ariaBusy:H,ariaChecked:H,ariaColCount:y,ariaColIndex:y,ariaColSpan:y,ariaControls:B,ariaCurrent:null,ariaDescribedBy:B,ariaDetails:null,ariaDisabled:H,ariaDropEffect:B,ariaErrorMessage:null,ariaExpanded:H,ariaFlowTo:B,ariaGrabbed:H,ariaHasPopup:null,ariaHidden:H,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:B,ariaLevel:y,ariaLive:null,ariaModal:H,ariaMultiLine:H,ariaMultiSelectable:H,ariaOrientation:null,ariaOwns:B,ariaPlaceholder:null,ariaPosInSet:y,ariaPressed:H,ariaReadOnly:H,ariaRelevant:null,ariaRequired:H,ariaRoleDescription:B,ariaRowCount:y,ariaRowIndex:y,ariaRowSpan:y,ariaSelected:H,ariaSetSize:y,ariaSort:null,ariaValueMax:y,ariaValueMin:y,ariaValueNow:y,ariaValueText:null,role:null}}),Li=et({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:bl,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xe,acceptCharset:B,accessKey:B,action:null,allow:null,allowFullScreen:A,allowPaymentRequest:A,allowUserMedia:A,alt:null,as:null,async:A,autoCapitalize:null,autoComplete:B,autoFocus:A,autoPlay:A,capture:A,charSet:null,checked:A,cite:null,className:B,cols:y,colSpan:null,content:null,contentEditable:H,controls:A,controlsList:B,coords:y|Xe,crossOrigin:null,data:null,dateTime:null,decoding:null,default:A,defer:A,dir:null,dirName:null,disabled:A,download:ml,draggable:H,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:A,formTarget:null,headers:B,height:y,hidden:A,high:y,href:null,hrefLang:null,htmlFor:B,httpEquiv:B,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:A,itemId:null,itemProp:B,itemRef:B,itemScope:A,itemType:B,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:A,low:y,manifest:null,max:null,maxLength:y,media:null,method:null,min:null,minLength:y,multiple:A,muted:A,name:null,nonce:null,noModule:A,noValidate:A,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:A,optimum:y,pattern:null,ping:B,placeholder:null,playsInline:A,poster:null,preload:null,readOnly:A,referrerPolicy:null,rel:B,required:A,reversed:A,rows:y,rowSpan:y,sandbox:B,scope:null,scoped:A,seamless:A,selected:A,shape:null,size:y,sizes:null,slot:null,span:y,spellCheck:H,src:null,srcDoc:null,srcLang:null,srcSet:null,start:y,step:null,style:null,tabIndex:y,target:null,title:null,translate:null,type:null,typeMustMatch:A,useMap:null,value:H,width:y,wrap:null,align:null,aLink:null,archive:B,axis:null,background:null,bgColor:null,border:y,borderColor:null,bottomMargin:y,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:A,declare:A,event:null,face:null,frame:null,frameBorder:null,hSpace:y,leftMargin:y,link:null,longDesc:null,lowSrc:null,marginHeight:y,marginWidth:y,noResize:A,noHref:A,noShade:A,noWrap:A,object:null,profile:null,prompt:null,rev:null,rightMargin:y,rules:null,scheme:null,scrolling:H,standby:null,summary:null,text:null,topMargin:y,valueType:null,version:null,vAlign:null,vLink:null,vSpace:y,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:A,disableRemotePlayback:A,prefix:null,property:null,results:y,security:null,unselectable:null}}),Oi=et({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:vl,properties:{about:te,accentHeight:y,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:y,amplitude:y,arabicForm:null,ascent:y,attributeName:null,attributeType:null,azimuth:y,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:y,by:null,calcMode:null,capHeight:y,className:B,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:y,diffuseConstant:y,direction:null,display:null,dur:null,divisor:y,dominantBaseline:null,download:A,dx:null,dy:null,edgeMode:null,editable:null,elevation:y,enableBackground:null,end:null,event:null,exponent:y,externalResourcesRequired:null,fill:null,fillOpacity:y,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xe,g2:Xe,glyphName:Xe,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:y,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:y,horizOriginX:y,horizOriginY:y,id:null,ideographic:y,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:y,k:y,k1:y,k2:y,k3:y,k4:y,kernelMatrix:te,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:y,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:y,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:y,overlineThickness:y,paintOrder:null,panose1:null,path:null,pathLength:y,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:B,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:y,pointsAtY:y,pointsAtZ:y,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:te,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:te,rev:te,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:te,requiredFeatures:te,requiredFonts:te,requiredFormats:te,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:y,specularExponent:y,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:y,strikethroughThickness:y,string:null,stroke:null,strokeDashArray:te,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:y,strokeOpacity:y,strokeWidth:null,style:null,surfaceScale:y,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:te,tabIndex:y,tableValues:null,target:null,targetX:y,targetY:y,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:te,to:null,transform:null,u1:null,u2:null,underlinePosition:y,underlineThickness:y,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:y,values:null,vAlphabetic:y,vMathematical:y,vectorEffect:null,vHanging:y,vIdeographic:y,version:null,vertAdvY:y,vertOriginX:y,vertOriginY:y,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:y,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ti=/^data[-\w.:]+$/i,ro=/-[a-z]/g,Ni=/[A-Z]/g;function zi(e,t){const n=gt(t);let o=t,l=ie;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ti.test(t)){if(t.charAt(4)==="-"){const r=t.slice(5).replace(ro,Ri);o="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=t.slice(4);if(!ro.test(r)){let a=r.replace(Ni,Di);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}l=Un}return new l(o,t)}function Di(e){return"-"+e.toLowerCase()}function Ri(e){return e.charAt(1).toUpperCase()}fl([yl,gl,xl,wl,Li],"html");const Bi=fl([yl,gl,xl,wl,Oi],"svg"),io=/[#.]/g;function Ii(e,t){const n=e||"",o={};let l=0,r,a;for(;l<n.length;){io.lastIndex=l;const u=io.exec(n),s=n.slice(l,u?u.index:n.length);s&&(r?r==="#"?o.id=s:Array.isArray(o.className)?o.className.push(s):o.className=[s]:a=s,l+=s.length),u&&(r=u[0],l++)}return{type:"element",tagName:a||t||"div",properties:o,children:[]}}function ao(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function so(e){const t=[],n=String(e||"");let o=n.indexOf(","),l=0,r=!1;for(;!r;){o===-1&&(o=n.length,r=!0);const a=n.slice(l,o).trim();(a||!r)&&t.push(a),l=o+1,o=n.indexOf(",",l)}return t}const _i=new Set(["menu","submit","reset","button"]),mn={}.hasOwnProperty;function Zi(e,t,n){const o=n&&Fi(n);return(function(l,r,...a){let u=-1,s;if(l==null)s={type:"root",children:[]},a.unshift(r);else if(s=Ii(l,t),s.tagName=s.tagName.toLowerCase(),o&&mn.call(o,s.tagName)&&(s.tagName=o[s.tagName]),Ui(r,s.tagName)){let p;for(p in r)mn.call(r,p)&&qi(e,s.properties,p,r[p])}else a.unshift(r);for(;++u<a.length;)gn(s.children,a[u]);return s.type==="element"&&s.tagName==="template"&&(s.content={type:"root",children:s.children},s.children=[]),s})}function Ui(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?_i.has(e.type.toLowerCase()):!("value"in e)}function qi(e,t,n,o){const l=zi(e,n);let r=-1,a;if(o!=null){if(typeof o=="number"){if(Number.isNaN(o))return;a=o}else typeof o=="boolean"?a=o:typeof o=="string"?l.spaceSeparated?a=ao(o):l.commaSeparated?a=so(o):l.commaOrSpaceSeparated?a=ao(so(o).join(" ")):a=uo(l,l.property,o):Array.isArray(o)?a=o.concat():a=l.property==="style"?ji(o):String(o);if(Array.isArray(a)){const u=[];for(;++r<a.length;)u[r]=uo(l,l.property,a[r]);a=u}l.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[l.property]=a}}function gn(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)gn(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?gn(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function uo(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||gt(n)===gt(t)))return!0}return n}function ji(e){const t=[];let n;for(n in e)mn.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Fi(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Vi=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],pe=Zi(Bi,"g",Vi);function Sl(e){return e.type===ht?Hi(e):Wi(e)}function Hi(e){const{shape:t}=e;return yn(t)}function yn(e){switch(e.type){case Ie:{const{cx:t,cy:n,r:o}=e;return pe("circle",{cx:t,cy:-n,r:o})}case wt:{const{x:t,y:n,xSize:o,ySize:l,r}=e;return pe("rect",{x:t,y:-n-l,width:o,height:l,rx:r,ry:r})}case re:{const t=e.points.map(([n,o])=>`${n},${-o}`).join(" ");return pe("polygon",{points:t})}case St:return pe("path",{d:Cl(e.segments)});case qt:{const t=mt.fromShape(e),n=Zn(),o=[];let l=[];for(const[r,a]of e.shapes.entries())if(a.erase&&!mt.isEmpty(t)){const u=`${n}__${r}`;o.push(pe("clipPath",{id:u},[yn(a)])),l=[pe("g",{clipPath:`url(#${u})`},l)]}else l.push(yn(a));return o.length>0&&l.unshift(pe("defs",o)),l.length===1?l[0]:pe("g",l)}default:return pe("g")}}function Wi(e){const t=Cl(e.segments),n=e.type===xt?{strokeWidth:e.width,fill:"none"}:{};return pe("path",{...n,d:t})}function Cl(e){const t=[];for(const[n,o]of e.entries()){const l=e[n-1],{start:r,end:a}=o;if((!l||!Rn(l.end,r))&&t.push(`M${r[0]} ${-r[1]}`),o.type===Y)t.push(`L${a[0]} ${-a[1]}`);else if(o.type===de){const u=o.end[2]-o.start[2],s=Math.abs(u),{center:p,radius:i}=o,c=u<0?"1":"0";let f=s<=Math.PI?"0":"1";if(s===2*Math.PI){const[g,b]=[2*p[0]-a[0],-(2*p[1]-a[1])];f="0",t.push(`A${i} ${i} 0 0 ${c} ${g} ${b}`)}t.push(`A${i} ${i} 0 ${f} ${c} ${a[0]} ${-a[1]}`)}}return t.join("")}const kl={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ml={"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0","fill-rule":"evenodd","clip-rule":"evenodd",fill:"currentColor",stroke:"currentColor"};function Gi(e,t){const{units:n,size:o,children:l}=e;return t=t??El(o),pe("svg",{...kl,...Ml,viewBox:t.join(" "),width:`${t[2]}${n}`,height:`${t[3]}${n}`},l.map(Sl))}function El(e){return mt.isEmpty(e)?[0,0,0,0]:[e[0],-e[3],e[2]-e[0],e[3]-e[1]]}function Xi(e){let t=null,n=0;const o={};for(const l of e){const{cad:r}=l;if(r!==null){const a=(o[r]??0)+1;a>n&&(n=a,t=r),o[r]=a}}return t}const Pt="copper",vn="soldermask",bn="silkscreen",xn="solderpaste",qn="drill",Pl="outline",Yi="drawing",rt="top",Ve="bottom",Ki="inner",wn="all",q="kicad",oe="altium",Ji="allegro",le="eagle",R="eagle-legacy",J="eagle-oshpark",Q="eagle-pcbng",ue="geda-pcb",ee="orcad",ce="diptrace",Qi=[{type:null,side:null,matchers:[{ext:"gpi",cad:[le,R,J,Q]},{ext:"dri",cad:[le,R,J,Q]},{ext:"csv",cad:null},{match:/pnp_bom/,cad:Q}]},{type:Pt,side:rt,matchers:[{ext:"cmp",cad:R},{ext:"top",cad:[R,ee]},{ext:"gtl",cad:[q,oe]},{ext:"toplayer\\.ger",cad:J},{match:/top\.\w+$/,cad:[ue,ce]},{match:/f[._]cu/,cad:q},{match:/copper_top/,cad:le},{match:/top_copper/,cad:Q},{match:/top copper/,cad:null}]},{type:vn,side:rt,matchers:[{ext:"stc",cad:R},{ext:"tsm",cad:R},{ext:"gts",cad:[q,oe]},{ext:"smt",cad:ee},{ext:"topsoldermask\\.ger",cad:J},{match:/topmask\.\w+$/,cad:[ue,ce]},{match:/f[._]mask/,cad:q},{match:/soldermask_top/,cad:le},{match:/top_mask/,cad:Q},{match:/top solder resist/,cad:null}]},{type:bn,side:rt,matchers:[{ext:"plc",cad:R},{ext:"tsk",cad:R},{ext:"gto",cad:[q,oe]},{ext:"sst",cad:ee},{ext:"topsilkscreen\\.ger",cad:J},{match:/topsilk\.\w+$/,cad:[ue,ce]},{match:/f[._]silks/,cad:q},{match:/silkscreen_top/,cad:le},{match:/top_silk/,cad:Q},{match:/top silk screen/,cad:null}]},{type:xn,side:rt,matchers:[{ext:"crc",cad:R},{ext:"tsp",cad:R},{ext:"gtp",cad:[q,oe]},{ext:"spt",cad:ee},{ext:"tcream\\.ger",cad:J},{match:/toppaste\.\w+$/,cad:[ue,ce]},{match:/f[._]paste/,cad:q},{match:/solderpaste_top/,cad:le},{match:/top_paste/,cad:Q}]},{type:Pt,side:Ve,matchers:[{ext:"sol",cad:R},{ext:"bot",cad:[R,ee]},{ext:"gbl",cad:[q,oe]},{ext:"bottomlayer\\.ger",cad:J},{match:/bottom\.\w+$/,cad:[ue,ce]},{match:/b[._]cu/,cad:q},{match:/copper_bottom/,cad:le},{match:/bottom_copper/,cad:Q},{match:/bottom copper/,cad:null}]},{type:vn,side:Ve,matchers:[{ext:"sts",cad:R},{ext:"bsm",cad:R},{ext:"gbs",cad:[q,oe]},{ext:"smb",cad:ee},{ext:"bottomsoldermask\\.ger",cad:J},{match:/bottommask\.\w+$/,cad:[ue,ce]},{match:/b[._]mask/,cad:q},{match:/soldermask_bottom/,cad:le},{match:/bottom_mask/,cad:Q},{match:/bottom solder resist/,cad:null}]},{type:bn,side:Ve,matchers:[{ext:"pls",cad:R},{ext:"bsk",cad:R},{ext:"gbo",cad:[q,oe]},{ext:"ssb",cad:ee},{ext:"bottomsilkscreen\\.ger",cad:J},{match:/bottomsilk\.\w+$/,cad:[ue,ce]},{match:/b[._]silks/,cad:q},{match:/silkscreen_bottom/,cad:le},{match:/bottom_silk/,cad:Q},{match:/bottom silk screen/,cad:null}]},{type:xn,side:Ve,matchers:[{ext:"crs",cad:R},{ext:"bsp",cad:R},{ext:"gbp",cad:[q,oe]},{ext:"spb",cad:ee},{ext:"bcream\\.ger",cad:J},{match:/bottompaste\.\w+$/,cad:[ue,ce]},{match:/b[._]paste/,cad:q},{match:/solderpaste_bottom/,cad:le},{match:/bottom_paste/,cad:Q}]},{type:Pt,side:Ki,matchers:[{ext:"ly\\d+",cad:R},{ext:"gp?\\d+",cad:[q,oe]},{ext:"in\\d+",cad:ee},{ext:"internalplane\\d+\\.ger",cad:J},{match:/in(?:ner)?\d+[._]cu/,cad:q},{match:/inner/,cad:ce}]},{type:Pl,side:wn,matchers:[{ext:"dim",cad:R},{ext:"mil",cad:R},{ext:"gml",cad:R},{ext:"gm\\d+",cad:[q,oe]},{ext:"gko",cad:oe},{ext:"fab",cad:ee},{ext:"drd",cad:ee},{match:/outline/,cad:[ue,Q]},{match:/boardoutline/,cad:[J,ce]},{match:/edge[._]cuts/,cad:q},{match:/profile/,cad:le},{match:/mechanical \d+/,cad:null}]},{type:qn,side:wn,matchers:[{ext:"txt",cad:[R,oe]},{ext:"xln",cad:[le,R,J]},{ext:"exc",cad:R},{ext:"drd",cad:R},{ext:"drl",cad:[q,ce]},{ext:"tap",cad:ee},{ext:"npt",cad:ee},{ext:"plated-drill\\.cnc",cad:ue},{match:/fab/,cad:ue},{match:/npth/,cad:q},{match:/drill/,cad:Q}]},{type:Yi,side:null,matchers:[{ext:"pos",cad:q},{ext:"art",cad:Ji},{ext:"gbr",cad:null},{ext:"gbx",cad:null},{ext:"ger",cad:null},{ext:"pho",cad:null}]}],ea=Qi.flatMap(e=>e.matchers.flatMap(t=>{const n=Array.isArray(t.cad)?t.cad:[t.cad],o="ext"in t?new RegExp("\\."+t.ext+"$","i"):new RegExp(t.match,"i");return n.map(l=>({type:e.type,side:e.side,match:o,cad:l}))}));function ta(e){return ea.map(t=>t.match.test(e)?{...t,filename:e}:null).filter(t=>t!==null)}function na(e){typeof e=="string"&&(e=[e]);const t=e.flatMap(o=>ta(o)),n=Xi(t);return Object.fromEntries(e.map(o=>{const l=oa(t,o,n),r=l?{type:l.type,side:l.side}:{type:null,side:null};return[o,r]}))}function oa(e,t,n){const o=e.filter(l=>l.filename===t);return o.find(l=>l.cad===n)??o[0]??null}class kt{constructor(t,n,o){this.property=t,this.normal=n,o&&(this.space=o)}}kt.prototype.property={};kt.prototype.normal={};kt.prototype.space=null;function $l(e,t){const n={},o={};let l=-1;for(;++l<e.length;)Object.assign(n,e[l].property),Object.assign(o,e[l].normal);return new kt(n,o,t)}function yt(e){return e.toLowerCase()}class ae{constructor(t,n){this.property=t,this.attribute=n}}ae.prototype.space=null;ae.prototype.boolean=!1;ae.prototype.booleanish=!1;ae.prototype.overloadedBoolean=!1;ae.prototype.number=!1;ae.prototype.commaSeparated=!1;ae.prototype.spaceSeparated=!1;ae.prototype.commaOrSpaceSeparated=!1;ae.prototype.mustUseProperty=!1;ae.prototype.defined=!1;let la=0;const L=Ze(),W=Ze(),Al=Ze(),v=Ze(),I=Ze(),Ye=Ze(),ne=Ze();function Ze(){return 2**++la}const Sn=Object.freeze(Object.defineProperty({__proto__:null,boolean:L,booleanish:W,commaOrSpaceSeparated:ne,commaSeparated:Ye,number:v,overloadedBoolean:Al,spaceSeparated:I},Symbol.toStringTag,{value:"Module"})),Xt=Object.keys(Sn);class jn extends ae{constructor(t,n,o,l){let r=-1;if(super(t,n),co(this,"space",l),typeof o=="number")for(;++r<Xt.length;){const a=Xt[r];co(this,Xt[r],(o&Sn[a])===Sn[a])}}}jn.prototype.defined=!0;function co(e,t,n){n&&(e[t]=n)}const ra={}.hasOwnProperty;function tt(e){const t={},n={};let o;for(o in e.properties)if(ra.call(e.properties,o)){const l=e.properties[o],r=new jn(o,e.transform(e.attributes||{},o),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(o)&&(r.mustUseProperty=!0),t[o]=r,n[yt(o)]=o,n[yt(r.attribute)]=o}return new kt(t,n,e.space)}const Ll=tt({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ol=tt({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Tl(e,t){return t in e?e[t]:t}function Nl(e,t){return Tl(e,t.toLowerCase())}const zl=tt({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Nl,properties:{xmlns:null,xmlnsXLink:null}}),Dl=tt({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:W,ariaAutoComplete:null,ariaBusy:W,ariaChecked:W,ariaColCount:v,ariaColIndex:v,ariaColSpan:v,ariaControls:I,ariaCurrent:null,ariaDescribedBy:I,ariaDetails:null,ariaDisabled:W,ariaDropEffect:I,ariaErrorMessage:null,ariaExpanded:W,ariaFlowTo:I,ariaGrabbed:W,ariaHasPopup:null,ariaHidden:W,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:I,ariaLevel:v,ariaLive:null,ariaModal:W,ariaMultiLine:W,ariaMultiSelectable:W,ariaOrientation:null,ariaOwns:I,ariaPlaceholder:null,ariaPosInSet:v,ariaPressed:W,ariaReadOnly:W,ariaRelevant:null,ariaRequired:W,ariaRoleDescription:I,ariaRowCount:v,ariaRowIndex:v,ariaRowSpan:v,ariaSelected:W,ariaSetSize:v,ariaSort:null,ariaValueMax:v,ariaValueMin:v,ariaValueNow:v,ariaValueText:null,role:null}}),ia=tt({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Nl,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ye,acceptCharset:I,accessKey:I,action:null,allow:null,allowFullScreen:L,allowPaymentRequest:L,allowUserMedia:L,alt:null,as:null,async:L,autoCapitalize:null,autoComplete:I,autoFocus:L,autoPlay:L,capture:L,charSet:null,checked:L,cite:null,className:I,cols:v,colSpan:null,content:null,contentEditable:W,controls:L,controlsList:I,coords:v|Ye,crossOrigin:null,data:null,dateTime:null,decoding:null,default:L,defer:L,dir:null,dirName:null,disabled:L,download:Al,draggable:W,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:L,formTarget:null,headers:I,height:v,hidden:L,high:v,href:null,hrefLang:null,htmlFor:I,httpEquiv:I,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:L,itemId:null,itemProp:I,itemRef:I,itemScope:L,itemType:I,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:L,low:v,manifest:null,max:null,maxLength:v,media:null,method:null,min:null,minLength:v,multiple:L,muted:L,name:null,nonce:null,noModule:L,noValidate:L,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:L,optimum:v,pattern:null,ping:I,placeholder:null,playsInline:L,poster:null,preload:null,readOnly:L,referrerPolicy:null,rel:I,required:L,reversed:L,rows:v,rowSpan:v,sandbox:I,scope:null,scoped:L,seamless:L,selected:L,shape:null,size:v,sizes:null,slot:null,span:v,spellCheck:W,src:null,srcDoc:null,srcLang:null,srcSet:null,start:v,step:null,style:null,tabIndex:v,target:null,title:null,translate:null,type:null,typeMustMatch:L,useMap:null,value:W,width:v,wrap:null,align:null,aLink:null,archive:I,axis:null,background:null,bgColor:null,border:v,borderColor:null,bottomMargin:v,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:L,declare:L,event:null,face:null,frame:null,frameBorder:null,hSpace:v,leftMargin:v,link:null,longDesc:null,lowSrc:null,marginHeight:v,marginWidth:v,noResize:L,noHref:L,noShade:L,noWrap:L,object:null,profile:null,prompt:null,rev:null,rightMargin:v,rules:null,scheme:null,scrolling:W,standby:null,summary:null,text:null,topMargin:v,valueType:null,version:null,vAlign:null,vLink:null,vSpace:v,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:L,disableRemotePlayback:L,prefix:null,property:null,results:v,security:null,unselectable:null}}),aa=tt({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Tl,properties:{about:ne,accentHeight:v,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:v,amplitude:v,arabicForm:null,ascent:v,attributeName:null,attributeType:null,azimuth:v,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:v,by:null,calcMode:null,capHeight:v,className:I,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:v,diffuseConstant:v,direction:null,display:null,dur:null,divisor:v,dominantBaseline:null,download:L,dx:null,dy:null,edgeMode:null,editable:null,elevation:v,enableBackground:null,end:null,event:null,exponent:v,externalResourcesRequired:null,fill:null,fillOpacity:v,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ye,g2:Ye,glyphName:Ye,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:v,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:v,horizOriginX:v,horizOriginY:v,id:null,ideographic:v,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:v,k:v,k1:v,k2:v,k3:v,k4:v,kernelMatrix:ne,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:v,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:v,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:v,overlineThickness:v,paintOrder:null,panose1:null,path:null,pathLength:v,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:I,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:v,pointsAtY:v,pointsAtZ:v,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ne,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ne,rev:ne,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ne,requiredFeatures:ne,requiredFonts:ne,requiredFormats:ne,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:v,specularExponent:v,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:v,strikethroughThickness:v,string:null,stroke:null,strokeDashArray:ne,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:v,strokeOpacity:v,strokeWidth:null,style:null,surfaceScale:v,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ne,tabIndex:v,tableValues:null,target:null,targetX:v,targetY:v,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ne,to:null,transform:null,u1:null,u2:null,underlinePosition:v,underlineThickness:v,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:v,values:null,vAlphabetic:v,vMathematical:v,vectorEffect:null,vHanging:v,vIdeographic:v,version:null,vertAdvY:v,vertOriginX:v,vertOriginY:v,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:v,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),sa=/^data[-\w.:]+$/i,po=/-[a-z]/g,ua=/[A-Z]/g;function ca(e,t){const n=yt(t);let o=t,l=ae;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sa.test(t)){if(t.charAt(4)==="-"){const r=t.slice(5).replace(po,da);o="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=t.slice(4);if(!po.test(r)){let a=r.replace(ua,pa);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}l=jn}return new l(o,t)}function pa(e){return"-"+e.toLowerCase()}function da(e){return e.charAt(1).toUpperCase()}$l([Ol,Ll,zl,Dl,ia],"html");const ha=$l([Ol,Ll,zl,Dl,aa],"svg"),ho=/[#.]/g;function fa(e,t){const n=e||"",o={};let l=0,r,a;for(;l<n.length;){ho.lastIndex=l;const u=ho.exec(n),s=n.slice(l,u?u.index:n.length);s&&(r?r==="#"?o.id=s:Array.isArray(o.className)?o.className.push(s):o.className=[s]:a=s,l+=s.length),u&&(r=u[0],l++)}return{type:"element",tagName:a||t||"div",properties:o,children:[]}}function fo(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function mo(e){const t=[],n=String(e||"");let o=n.indexOf(","),l=0,r=!1;for(;!r;){o===-1&&(o=n.length,r=!0);const a=n.slice(l,o).trim();(a||!r)&&t.push(a),l=o+1,o=n.indexOf(",",l)}return t}const ma=new Set(["menu","submit","reset","button"]),Cn={}.hasOwnProperty;function ga(e,t,n){const o=n&&xa(n);return(function(l,r,...a){let u=-1,s;if(l==null)s={type:"root",children:[]},a.unshift(r);else if(s=fa(l,t),s.tagName=s.tagName.toLowerCase(),o&&Cn.call(o,s.tagName)&&(s.tagName=o[s.tagName]),ya(r,s.tagName)){let p;for(p in r)Cn.call(r,p)&&va(e,s.properties,p,r[p])}else a.unshift(r);for(;++u<a.length;)kn(s.children,a[u]);return s.type==="element"&&s.tagName==="template"&&(s.content={type:"root",children:s.children},s.children=[]),s})}function ya(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?ma.has(e.type.toLowerCase()):!("value"in e)}function va(e,t,n,o){const l=ca(e,n);let r=-1,a;if(o!=null){if(typeof o=="number"){if(Number.isNaN(o))return;a=o}else typeof o=="boolean"?a=o:typeof o=="string"?l.spaceSeparated?a=fo(o):l.commaSeparated?a=mo(o):l.commaOrSpaceSeparated?a=fo(mo(o).join(" ")):a=go(l,l.property,o):Array.isArray(o)?a=o.concat():a=l.property==="style"?ba(o):String(o);if(Array.isArray(a)){const u=[];for(;++r<a.length;)u[r]=go(l,l.property,a[r]);a=u}l.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[l.property]=a}}function kn(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)kn(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?kn(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function go(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||yt(n)===yt(t)))return!0}return n}function ba(e){const t=[];let n;for(n in e)Cn.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function xa(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const wa=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],G=ga(ha,"g",wa);async function Sa(e){return typeof e=="string"?ka(e):Ca(e)}async function Ca(e){if(typeof File>"u"||typeof FileReader>"u")throw new TypeError(`Cannot read "file" object of type ${typeof e} in a non-browser environment`);return new Promise((t,n)=>{const o=new FileReader;o.addEventListener("load",l,{once:!0}),o.addEventListener("error",r,{once:!0}),o.readAsText(e);function l(){const a=o.result;o.removeEventListener("error",r),t({filename:e.name,contents:a})}function r(){o.removeEventListener("load",l),n(o.error)}})}async function ka(e){const[t,n]=await Promise.all([Yn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),Yn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])]).catch(()=>{throw new TypeError("Cannot read a file path string in a non-Node.js environment")}),o=n.basename(e),l=await t.readFile(e,"utf8");return{filename:o,contents:l}}function Ma(e){const t=e.filter(o=>o.parseTree.filetype===En).map(o=>o.filename),n=na(t);return Object.fromEntries(e.map(({id:o,filename:l,parseTree:r})=>{const a=r.filetype===bt?{type:qn,side:wn}:n[l];return[o,a]}))}const He=({id:e})=>e,We=(e,t)=>n=>n.type===e&&(t===void 0||n.side===t);function Ea(e){return e.filter(We(Pl)).map(He)[0]}function Pa(e){return e.filter(We(qn)).map(He)}function $a(e,t){return{copper:t.filter(We(Pt,e)).map(He),solderMask:t.filter(We(vn,e)).map(He),silkScreen:t.filter(We(bn,e)).map(He),solderPaste:t.filter(We(xn,e)).map(He)}}function Aa(e){const t=new Map,n=new Map;for(const o of e){const l=Oa(o);t.set(l,o);for(const r of[o.start,o.end]){const a=vt(r),u=n.get(a)??[];u.push(l),n.set(a,u)}}return Object.assign(Object.create(La),{segmentsById:t,segmentIdsByPointId:n}).walk()}const La={walk(){const e=[];for(;this.segmentsById.size>0;){const t=this.segmentIdsByPointId.keys().next().value,n=this.walkPath(t);if(n.length>0){const o=n[0],l=n[n.length-1],r=[o.start[0],o.start[1]],a=[l.end[0],l.end[1]];e.push({start:r,end:a,segments:n})}}return e},walkPath(e){const t=this.shiftNextSegment(e);if(t!==void 0){const n=vt(t.start),o=vt(t.end),l=e===n?o:n;return[e===n?t:Rl(t),...this.walkPath(l)]}return[]},shiftNextSegment(e){const t=this.shiftSegmentId(e);if(t!==void 0)return this.consumeSegment(t)??this.shiftNextSegment(e)},shiftSegmentId(e){const t=this.segmentIdsByPointId.get(e),n=t?.shift();return t?.length===0&&this.segmentIdsByPointId.delete(e),n},consumeSegment(e){const t=this.segmentsById.get(e);return this.segmentsById.delete(e),t}};function vt(e){return`${e[0]},${e[1]}`}function Oa(e){const{type:t}=e,[n,o]=Ta(e.start,e.end);return`${t}:${vt(n)}:${vt(o)}`}function Ta(e,t){return t[0]<e[0]?[t,e]:t[0]>e[0]?[e,t]:t[1]<e[1]?[t,e]:[e,t]}function Rl(e){return{...e,start:e.end,end:e.start}}const Na=e=>({type:Dn,segments:e}),za=e=>({type:xt,width:0,segments:e});function Da(e,t){const n=t**2,o=[...e],l=[],r=[];for(;o.length>0;){const a=o.shift();let u=yo(a.end,a.start),s=a,p=a.start;if(u===0){l.push(a.segments);continue}for(const i of o)for(const c of[i.start,i.end]){const f=yo(a.end,c);f<u&&(u=f,s=i,p=c)}if(u<=n){const i={type:Y,start:a.end,end:p};if(a===s){l.push([...a.segments,i]);continue}const c=o.indexOf(s);c!==-1&&o.splice(c,1);const f=p===s.start?s.segments:s.segments.map(Rl).reverse(),g=p===s.start?s.end:s.start;o.unshift({start:a.start,end:g,segments:[...a.segments,i,...f]})}else r.push(a.segments)}return[l.map(Na),r.map(za)]}function yo(e,t){return e[0]!==t[0]||e[1]!==t[1]?(e[0]-t[0])**2+(e[1]-t[1])**2:0}const Ra="missingOutlineLayer",Ba="noPathsInOutlineLayer",Ia="noClosedRegionsFound";function _a(e,t,n){const o=Ea(e),l=o?t[o]:void 0,r=mt.sum(Object.values(t).map(({size:i})=>i));if(l===void 0)return{size:r,regions:[],openPaths:[],failureReason:Ra};const a=l.children.filter(i=>i.type===xt).flatMap(i=>i.segments);if(a.length===0)return{size:r,regions:[],openPaths:[],failureReason:Ba};const u=Aa(a),[s,p]=Da(u,n);return s.length===0?{size:r,regions:s,openPaths:p,failureReason:Ia}:{regions:s,openPaths:p,size:mt.fromGraphics(s)}}function Za(e){const{regions:t,size:n,failureReason:o}=e,l=El(n),r=t.flatMap(a=>a.segments);return o?{viewBox:l,failureReason:o}:{viewBox:l,path:Sl({type:Dn,segments:r})}}const vo={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},Ua={}.hasOwnProperty;let Yt;for(Yt in vo)Ua.call(vo,Yt);async function qa(e){const t=e.map(ja),n=await Promise.all(t),o=Ma(n),l=[],r={};for(const{id:a,filename:u,parseTree:s}of n){const{type:p,side:i}=o[a];l.push({id:a,filename:u,type:p,side:i}),r[a]=s}return{layers:l,parseTreesById:r}}async function ja(e){const t=Zn(),{filename:n,contents:o}=await Sa(e),l=ei(o);return{id:t,filename:n,parseTree:l}}function Fa(e){const{layers:t,parseTreesById:n}=e,o={};for(const{id:r}of t)o[r]=Ei(n[r]);const l=_a(t,o,.02);return{layers:t,plotTreesById:o,boardShape:l}}function Va(e){const{layers:t,boardShape:n,plotTreesById:o}=e,l=Za(n),r={};for(const{id:a}of t)r[a]=Gi(o[a],l.viewBox);return{layers:t,rendersById:r,boardShapeRender:l}}function Ha(e){const{layers:t,rendersById:n,boardShapeRender:o}=e,{viewBox:l,path:r}=o,a=Pa(t),[u,s,p,i]=l,c={},f=g=>n[g].children;for(const g of[rt,Ve]){const{copper:b,solderMask:m,silkScreen:C,solderPaste:k}=$a(g,t),$=Zn(),T=`drill-${$}`,xe=`resist-${$}`,Me=`shape-${$}`,$e=r?`url(#${Me})`:void 0,U=g===Ve?`translate(${2*u+p},0) scale(-1,1)`:void 0;c[g]=G("svg",{...kl,...Ml,viewBox:`${u} ${s} ${p} ${i}`},[G("defs",[G("mask",{id:T},[G("rect",{x:u,y:s,width:p,height:i,fill:"#fff"}),G("g",{color:"#000"},a.flatMap(f))]),G("mask",{id:xe},[G("rect",{x:u,y:s,width:p,height:i,fill:"#fff"}),G("g",{color:"#000"},m.flatMap(f))]),r?G("clipPath",{id:Me},r):void 0]),G("g",{transform:U,"clip-path":$e},[G("g",{mask:`url(#${T})`},[G("rect",{fill:"#666",x:u,y:s,width:p,height:i}),G("g",{color:"#c93"},b.flatMap(f))]),G("g",{mask:`url(#${xe})`},[G("rect",{fill:"#004200",opacity:"0.8",x:u,y:s,width:p,height:i}),G("g",{color:"#fff"},C.flatMap(f))]),G("g",{color:"#999"},k.flatMap(f))])])}return c}function Wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kt,bo;function Ga(){return bo||(bo=1,Kt=(function(){var e="",t,n,o,l=[],r={passive:!0},a={passive:!1};window.addEventListener?(t="addEventListener",n="removeEventListener"):(t="attachEvent",n="detachEvent",e="on"),o="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";function u(b,m){var C=function(k){!k&&(k=window.event);var $={originalEvent:k,target:k.target||k.srcElement,type:"wheel",deltaMode:k.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){k.preventDefault?k.preventDefault():k.returnValue=!1}};return o=="mousewheel"?($.deltaY=-.025*k.wheelDelta,k.wheelDeltaX&&($.deltaX=-.025*k.wheelDeltaX)):$.deltaY=k.detail,m($)};return l.push({element:b,fn:C}),C}function s(b){for(var m=0;m<l.length;m++)if(l[m].element===b)return l[m].fn;return function(){}}function p(b){for(var m=0;m<l.length;m++)if(l[m].element===b)return l.splice(m,1)}function i(b,m,C,k){var $;o==="wheel"?$=C:$=u(b,C),b[t](e+m,$,k?r:a)}function c(b,m,C,k){var $;o==="wheel"?$=C:$=s(b),b[n](e+m,$,k?r:a),p(b)}function f(b,m,C){i(b,o,m,C),o=="DOMMouseScroll"&&i(b,"MozMousePixelScroll",m,C)}function g(b,m,C){c(b,o,m,C),o=="DOMMouseScroll"&&c(b,"MozMousePixelScroll",m,C)}return{on:f,off:g}})()),Kt}var Jt,xo;function Fn(){if(xo)return Jt;xo=1,Jt={extend:function(t,n){t=t||{};for(var o in n)this.isObject(n[o])?t[o]=this.extend(t[o],n[o]):t[o]=n[o];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},isObject:function(t){return Object.prototype.toString.call(t)==="[object Object]"},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var n,o;if(this.isElement(t))n=t;else if(typeof t=="string"||t instanceof String){if(n=document.querySelector(t),!n)throw new Error("Provided selector did not find any elements. Selector: "+t)}else throw new Error("Provided selector is not an HTML object nor String");if(n.tagName.toLowerCase()==="svg")o=n;else if(n.tagName.toLowerCase()==="object")o=n.contentDocument.documentElement;else if(n.tagName.toLowerCase()==="embed")o=n.getSVGDocument().documentElement;else throw n.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return o},proxy:function(t,n){return function(){return t.apply(n,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,n){if(t.clientX===void 0||t.clientX===null)if(t.clientX=0,t.clientY=0,t.touches!==void 0&&t.touches.length){if(t.touches[0].clientX!==void 0)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(t.touches[0].pageX!==void 0){var o=n.getBoundingClientRect();t.clientX=t.touches[0].pageX-o.left,t.clientY=t.touches[0].pageY-o.top}}else t.originalEvent!==void 0&&t.originalEvent.clientX!==void 0&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,n){if(t.detail===2)return!0;if(n!=null){var o=t.timeStamp-n.timeStamp,l=Math.sqrt(Math.pow(t.clientX-n.clientX,2)+Math.pow(t.clientY-n.clientY,2));return o<250&&l<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(t,n,o){var l=this,r,a,u,s=null,p=0;o||(o={});var i=function(){p=o.leading===!1?0:l.now(),s=null,u=t.apply(r,a),s||(r=a=null)};return function(){var c=l.now();!p&&o.leading===!1&&(p=c);var f=n-(c-p);return r=this,a=arguments,f<=0||f>n?(clearTimeout(s),s=null,p=c,u=t.apply(r,a),s||(r=a=null)):!s&&o.trailing!==!1&&(s=setTimeout(i,f)),u}},createRequestAnimationFrame:function(t){var n=null;return t!=="auto"&&t<60&&t>1&&(n=Math.floor(1e3/t)),n===null?window.requestAnimationFrame||e(33):e(n)}};function e(t){return function(n){window.setTimeout(n,t)}}return Jt}var lt,wo;function Vn(){if(wo)return lt;wo=1;var e=Fn(),t="unknown";return document.documentMode&&(t="ie"),lt={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(n){if(n.clientWidth&&n.clientHeight)return{width:n.clientWidth,height:n.clientHeight};if(n.getBoundingClientRect())return n.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(n,o){var l=null;if(e.isElement(o)?l=o:l=n.querySelector(o),!l){var r=Array.prototype.slice.call(n.childNodes||n.children).filter(function(i){return i.nodeName!=="defs"&&i.nodeName!=="#text"});r.length===1&&r[0].nodeName==="g"&&r[0].getAttribute("transform")===null&&(l=r[0])}if(!l){var a="viewport-"+new Date().toISOString().replace(/\D/g,"");l=document.createElementNS(this.svgNS,"g"),l.setAttribute("id",a);var u=n.childNodes||n.children;if(u&&u.length>0)for(var s=u.length;s>0;s--)u[u.length-s].nodeName!=="defs"&&l.appendChild(u[u.length-s]);n.appendChild(l)}var p=[];return l.getAttribute("class")&&(p=l.getAttribute("class").split(" ")),~p.indexOf("svg-pan-zoom_viewport")||(p.push("svg-pan-zoom_viewport"),l.setAttribute("class",p.join(" "))),l},setupSvgAttributes:function(n){if(n.setAttribute("xmlns",this.svgNS),n.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),n.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),n.parentNode!==null){var o=n.getAttribute("style")||"";o.toLowerCase().indexOf("overflow")===-1&&n.setAttribute("style","overflow: hidden; "+o)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:e.throttle(function(){for(var n=document.querySelectorAll("defs"),o=n.length,l=0;l<o;l++){var r=n[l];r.parentNode.insertBefore(r,r)}},lt?lt.internetExplorerRedisplayInterval:null),setCTM:function(n,o,l){var r=this,a="matrix("+o.a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")";n.setAttributeNS(null,"transform",a),"transform"in n.style?n.style.transform=a:"-ms-transform"in n.style?n.style["-ms-transform"]=a:"-webkit-transform"in n.style&&(n.style["-webkit-transform"]=a),t==="ie"&&l&&(l.parentNode.insertBefore(l,l),window.setTimeout(function(){r.refreshDefsGlobal()},r.internetExplorerRedisplayInterval))},getEventPoint:function(n,o){var l=o.createSVGPoint();return e.mouseAndTouchNormalize(n,o),l.x=n.clientX,l.y=n.clientY,l},getSvgCenterPoint:function(n,o,l){return this.createSVGPoint(n,o/2,l/2)},createSVGPoint:function(n,o,l){var r=n.createSVGPoint();return r.x=o,r.y=l,r}},lt}var Qt,So;function Xa(){if(So)return Qt;So=1;var e=Vn();return Qt={enable:function(t){var n=t.svg.querySelector("defs");n||(n=document.createElementNS(e.svgNS,"defs"),t.svg.appendChild(n));var o=n.querySelector("style#svg-pan-zoom-controls-styles");if(!o){var l=document.createElementNS(e.svgNS,"style");l.setAttribute("id","svg-pan-zoom-controls-styles"),l.setAttribute("type","text/css"),l.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",n.appendChild(l)}var r=document.createElementNS(e.svgNS,"g");r.setAttribute("id","svg-pan-zoom-controls"),r.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),r.setAttribute("class","svg-pan-zoom-control"),r.appendChild(this._createZoomIn(t)),r.appendChild(this._createZoomReset(t)),r.appendChild(this._createZoomOut(t)),t.svg.appendChild(r),t.controlIcons=r},_createZoomIn:function(t){var n=document.createElementNS(e.svgNS,"g");n.setAttribute("id","svg-pan-zoom-zoom-in"),n.setAttribute("transform","translate(30.5 5) scale(0.015)"),n.setAttribute("class","svg-pan-zoom-control"),n.addEventListener("click",function(){t.getPublicInstance().zoomIn()},!1),n.addEventListener("touchstart",function(){t.getPublicInstance().zoomIn()},!1);var o=document.createElementNS(e.svgNS,"rect");o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("width","1500"),o.setAttribute("height","1400"),o.setAttribute("class","svg-pan-zoom-control-background"),n.appendChild(o);var l=document.createElementNS(e.svgNS,"path");return l.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),l.setAttribute("class","svg-pan-zoom-control-element"),n.appendChild(l),n},_createZoomReset:function(t){var n=document.createElementNS(e.svgNS,"g");n.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),n.setAttribute("transform","translate(5 35) scale(0.4)"),n.setAttribute("class","svg-pan-zoom-control"),n.addEventListener("click",function(){t.getPublicInstance().reset()},!1),n.addEventListener("touchstart",function(){t.getPublicInstance().reset()},!1);var o=document.createElementNS(e.svgNS,"rect");o.setAttribute("x","2"),o.setAttribute("y","2"),o.setAttribute("width","182"),o.setAttribute("height","58"),o.setAttribute("class","svg-pan-zoom-control-background"),n.appendChild(o);var l=document.createElementNS(e.svgNS,"path");l.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),l.setAttribute("class","svg-pan-zoom-control-element"),n.appendChild(l);var r=document.createElementNS(e.svgNS,"path");return r.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),r.setAttribute("class","svg-pan-zoom-control-element"),n.appendChild(r),n},_createZoomOut:function(t){var n=document.createElementNS(e.svgNS,"g");n.setAttribute("id","svg-pan-zoom-zoom-out"),n.setAttribute("transform","translate(30.5 70) scale(0.015)"),n.setAttribute("class","svg-pan-zoom-control"),n.addEventListener("click",function(){t.getPublicInstance().zoomOut()},!1),n.addEventListener("touchstart",function(){t.getPublicInstance().zoomOut()},!1);var o=document.createElementNS(e.svgNS,"rect");o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("width","1500"),o.setAttribute("height","1400"),o.setAttribute("class","svg-pan-zoom-control-background"),n.appendChild(o);var l=document.createElementNS(e.svgNS,"path");return l.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),l.setAttribute("class","svg-pan-zoom-control-element"),n.appendChild(l),n},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}},Qt}var en,Co;function Ya(){if(Co)return en;Co=1;var e=Vn(),t=Fn(),n=function(o,l){this.init(o,l)};return n.prototype.init=function(o,l){this.viewport=o,this.options=l,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=t.proxy(this.updateCTM,this),this.requestAnimationFrame=t.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var r=this.processCTM();this.setCTM(r),this.updateCTM()},n.prototype.cacheViewBox=function(){var o=this.options.svg.getAttribute("viewBox");if(o){var l=o.split(/[\s\,]/).filter(function(a){return a}).map(parseFloat);this.viewBox.x=l[0],this.viewBox.y=l[1],this.viewBox.width=l[2],this.viewBox.height=l[3];var r=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=r,this.activeState.x=(this.options.width-this.viewBox.width*r)/2,this.activeState.y=(this.options.height-this.viewBox.height*r)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},n.prototype.simpleViewBoxCache=function(){var o=this.viewport.getBBox();this.viewBox.x=o.x,this.viewBox.y=o.y,this.viewBox.width=o.width,this.viewBox.height=o.height},n.prototype.getViewBox=function(){return t.extend({},this.viewBox)},n.prototype.processCTM=function(){var o=this.getCTM();if(this.options.fit||this.options.contain){var l;this.options.fit?l=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):l=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),o.a=l,o.d=l,o.e=-this.viewBox.x*l,o.f=-this.viewBox.y*l}if(this.options.center){var r=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*o.a)*.5,a=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*o.a)*.5;o.e=r,o.f=a}return this.originalState.zoom=o.a,this.originalState.x=o.e,this.originalState.y=o.f,o},n.prototype.getOriginalState=function(){return t.extend({},this.originalState)},n.prototype.getState=function(){return t.extend({},this.activeState)},n.prototype.getZoom=function(){return this.activeState.zoom},n.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},n.prototype.computeRelativeZoom=function(o){return o/this.originalState.zoom},n.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},n.prototype.getCTM=function(){var o=this.options.svg.createSVGMatrix();return o.a=this.activeState.zoom,o.b=0,o.c=0,o.d=this.activeState.zoom,o.e=this.activeState.x,o.f=this.activeState.y,o},n.prototype.setCTM=function(o){var l=this.isZoomDifferent(o),r=this.isPanDifferent(o);if(l||r){if(l&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(o.a))===!1?(o.a=o.d=this.activeState.zoom,l=!1):(this.updateCache(o),this.options.onZoom(this.getRelativeZoom()))),r){var a=this.options.beforePan(this.getPan(),{x:o.e,y:o.f}),u=!1,s=!1;a===!1?(o.e=this.getPan().x,o.f=this.getPan().y,u=s=!0):t.isObject(a)&&(a.x===!1?(o.e=this.getPan().x,u=!0):t.isNumber(a.x)&&(o.e=a.x),a.y===!1?(o.f=this.getPan().y,s=!0):t.isNumber(a.y)&&(o.f=a.y)),u&&s||!this.isPanDifferent(o)?r=!1:(this.updateCache(o),this.options.onPan(this.getPan()))}(l||r)&&this.updateCTMOnNextFrame()}},n.prototype.isZoomDifferent=function(o){return this.activeState.zoom!==o.a},n.prototype.isPanDifferent=function(o){return this.activeState.x!==o.e||this.activeState.y!==o.f},n.prototype.updateCache=function(o){this.activeState.zoom=o.a,this.activeState.x=o.e,this.activeState.y=o.f},n.prototype.pendingUpdate=!1,n.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},n.prototype.updateCTM=function(){var o=this.getCTM();e.setCTM(this.viewport,o,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(o)},en=function(o,l){return new n(o,l)},en}var tn,ko;function Ka(){if(ko)return tn;ko=1;var e=Ga(),t=Xa(),n=Fn(),o=Vn(),l=Ya(),r=function(i,c){this.init(i,c)},a={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},u={passive:!0};r.prototype.init=function(i,c){var f=this;this.svg=i,this.defs=i.querySelector("defs"),o.setupSvgAttributes(this.svg),this.options=n.extend(n.extend({},a),c),this.state="none";var g=o.getBoundingClientRectNormalized(i);this.width=g.width,this.height=g.height,this.viewport=l(o.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(m,C){if(f.viewport&&f.options.beforeZoom)return f.options.beforeZoom(m,C)},onZoom:function(m){if(f.viewport&&f.options.onZoom)return f.options.onZoom(m)},beforePan:function(m,C){if(f.viewport&&f.options.beforePan)return f.options.beforePan(m,C)},onPan:function(m){if(f.viewport&&f.options.onPan)return f.options.onPan(m)},onUpdatedCTM:function(m){if(f.viewport&&f.options.onUpdatedCTM)return f.options.onUpdatedCTM(m)}});var b=this.getPublicInstance();b.setBeforeZoom(this.options.beforeZoom),b.setOnZoom(this.options.onZoom),b.setBeforePan(this.options.beforePan),b.setOnPan(this.options.onPan),b.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&t.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},r.prototype.setupHandlers=function(){var i=this,c=null;if(this.eventListeners={mousedown:function(m){var C=i.handleMouseDown(m,c);return c=m,C},touchstart:function(m){var C=i.handleMouseDown(m,c);return c=m,C},mouseup:function(m){return i.handleMouseUp(m)},touchend:function(m){return i.handleMouseUp(m)},mousemove:function(m){return i.handleMouseMove(m)},touchmove:function(m){return i.handleMouseMove(m)},mouseleave:function(m){return i.handleMouseUp(m)},touchleave:function(m){return i.handleMouseUp(m)},touchcancel:function(m){return i.handleMouseUp(m)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var f=this.options.customEventsHandler.haltEventListeners;if(f&&f.length)for(var g=f.length-1;g>=0;g--)this.eventListeners.hasOwnProperty(f[g])&&delete this.eventListeners[f[g]]}for(var b in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(b,this.eventListeners[b],this.options.preventMouseEventsDefault?!1:u);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},r.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var i=this;this.wheelListener=function(f){return i.handleMouseWheel(f)};var c=!this.options.preventMouseEventsDefault;e.on(this.options.eventsListenerElement||this.svg,this.wheelListener,c),this.options.mouseWheelZoomEnabled=!0}},r.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var i=!this.options.preventMouseEventsDefault;e.off(this.options.eventsListenerElement||this.svg,this.wheelListener,i),this.options.mouseWheelZoomEnabled=!1}},r.prototype.handleMouseWheel=function(i){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(i.preventDefault?i.preventDefault():i.returnValue=!1);var c=i.deltaY||1,f=Date.now()-this.lastMouseWheelEventTime,g=3+Math.max(0,30-f);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in i&&i.deltaMode===0&&i.wheelDelta&&(c=i.deltaY===0?0:Math.abs(i.wheelDelta)/i.deltaY),c=-.3<c&&c<.3?c:(c>0?1:-1)*Math.log(Math.abs(c)+10)/g;var b=this.svg.getScreenCTM().inverse(),m=o.getEventPoint(i,this.svg).matrixTransform(b),C=Math.pow(1+this.options.zoomScaleSensitivity,-1*c);this.zoomAtPoint(C,m)}},r.prototype.zoomAtPoint=function(i,c,f){var g=this.viewport.getOriginalState();f?(i=Math.max(this.options.minZoom*g.zoom,Math.min(this.options.maxZoom*g.zoom,i)),i=i/this.getZoom()):this.getZoom()*i<this.options.minZoom*g.zoom?i=this.options.minZoom*g.zoom/this.getZoom():this.getZoom()*i>this.options.maxZoom*g.zoom&&(i=this.options.maxZoom*g.zoom/this.getZoom());var b=this.viewport.getCTM(),m=c.matrixTransform(b.inverse()),C=this.svg.createSVGMatrix().translate(m.x,m.y).scale(i).translate(-m.x,-m.y),k=b.multiply(C);k.a!==b.a&&this.viewport.setCTM(k)},r.prototype.zoom=function(i,c){this.zoomAtPoint(i,o.getSvgCenterPoint(this.svg,this.width,this.height),c)},r.prototype.publicZoom=function(i,c){c&&(i=this.computeFromRelativeZoom(i)),this.zoom(i,c)},r.prototype.publicZoomAtPoint=function(i,c,f){if(f&&(i=this.computeFromRelativeZoom(i)),n.getType(c)!=="SVGPoint")if("x"in c&&"y"in c)c=o.createSVGPoint(this.svg,c.x,c.y);else throw new Error("Given point is invalid");this.zoomAtPoint(i,c,f)},r.prototype.getZoom=function(){return this.viewport.getZoom()},r.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},r.prototype.computeFromRelativeZoom=function(i){return i*this.viewport.getOriginalState().zoom},r.prototype.resetZoom=function(){var i=this.viewport.getOriginalState();this.zoom(i.zoom,!0)},r.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},r.prototype.reset=function(){this.resetZoom(),this.resetPan()},r.prototype.handleDblClick=function(i){if(this.options.preventMouseEventsDefault&&(i.preventDefault?i.preventDefault():i.returnValue=!1),this.options.controlIconsEnabled){var c=i.target.getAttribute("class")||"";if(c.indexOf("svg-pan-zoom-control")>-1)return!1}var f;i.shiftKey?f=1/((1+this.options.zoomScaleSensitivity)*2):f=(1+this.options.zoomScaleSensitivity)*2;var g=o.getEventPoint(i,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(f,g)},r.prototype.handleMouseDown=function(i,c){this.options.preventMouseEventsDefault&&(i.preventDefault?i.preventDefault():i.returnValue=!1),n.mouseAndTouchNormalize(i,this.svg),this.options.dblClickZoomEnabled&&n.isDblClick(i,c)?this.handleDblClick(i):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=o.getEventPoint(i,this.svg).matrixTransform(this.firstEventCTM.inverse()))},r.prototype.handleMouseMove=function(i){if(this.options.preventMouseEventsDefault&&(i.preventDefault?i.preventDefault():i.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var c=o.getEventPoint(i,this.svg).matrixTransform(this.firstEventCTM.inverse()),f=this.firstEventCTM.translate(c.x-this.stateOrigin.x,c.y-this.stateOrigin.y);this.viewport.setCTM(f)}},r.prototype.handleMouseUp=function(i){this.options.preventMouseEventsDefault&&(i.preventDefault?i.preventDefault():i.returnValue=!1),this.state==="pan"&&(this.state="none")},r.prototype.fit=function(){var i=this.viewport.getViewBox(),c=Math.min(this.width/i.width,this.height/i.height);this.zoom(c,!0)},r.prototype.contain=function(){var i=this.viewport.getViewBox(),c=Math.max(this.width/i.width,this.height/i.height);this.zoom(c,!0)},r.prototype.center=function(){var i=this.viewport.getViewBox(),c=(this.width-(i.width+i.x*2)*this.getZoom())*.5,f=(this.height-(i.height+i.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:c,y:f})},r.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},r.prototype.pan=function(i){var c=this.viewport.getCTM();c.e=i.x,c.f=i.y,this.viewport.setCTM(c)},r.prototype.panBy=function(i){var c=this.viewport.getCTM();c.e+=i.x,c.f+=i.y,this.viewport.setCTM(c)},r.prototype.getPan=function(){var i=this.viewport.getState();return{x:i.x,y:i.y}},r.prototype.resize=function(){var i=o.getBoundingClientRectNormalized(this.svg);this.width=i.width,this.height=i.height;var c=this.viewport;c.options.width=this.width,c.options.height=this.height,c.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},r.prototype.destroy=function(){var i=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var c in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(c,this.eventListeners[c],this.options.preventMouseEventsDefault?!1:u);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),s=s.filter(function(f){return f.svg!==i.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},r.prototype.getPublicInstance=function(){var i=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return i.options.panEnabled=!0,i.pi},disablePan:function(){return i.options.panEnabled=!1,i.pi},isPanEnabled:function(){return!!i.options.panEnabled},pan:function(c){return i.pan(c),i.pi},panBy:function(c){return i.panBy(c),i.pi},getPan:function(){return i.getPan()},setBeforePan:function(c){return i.options.beforePan=c===null?null:n.proxy(c,i.publicInstance),i.pi},setOnPan:function(c){return i.options.onPan=c===null?null:n.proxy(c,i.publicInstance),i.pi},enableZoom:function(){return i.options.zoomEnabled=!0,i.pi},disableZoom:function(){return i.options.zoomEnabled=!1,i.pi},isZoomEnabled:function(){return!!i.options.zoomEnabled},enableControlIcons:function(){return i.options.controlIconsEnabled||(i.options.controlIconsEnabled=!0,t.enable(i)),i.pi},disableControlIcons:function(){return i.options.controlIconsEnabled&&(i.options.controlIconsEnabled=!1,t.disable(i)),i.pi},isControlIconsEnabled:function(){return!!i.options.controlIconsEnabled},enableDblClickZoom:function(){return i.options.dblClickZoomEnabled=!0,i.pi},disableDblClickZoom:function(){return i.options.dblClickZoomEnabled=!1,i.pi},isDblClickZoomEnabled:function(){return!!i.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return i.enableMouseWheelZoom(),i.pi},disableMouseWheelZoom:function(){return i.disableMouseWheelZoom(),i.pi},isMouseWheelZoomEnabled:function(){return!!i.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(c){return i.options.zoomScaleSensitivity=c,i.pi},setMinZoom:function(c){return i.options.minZoom=c,i.pi},setMaxZoom:function(c){return i.options.maxZoom=c,i.pi},setBeforeZoom:function(c){return i.options.beforeZoom=c===null?null:n.proxy(c,i.publicInstance),i.pi},setOnZoom:function(c){return i.options.onZoom=c===null?null:n.proxy(c,i.publicInstance),i.pi},zoom:function(c){return i.publicZoom(c,!0),i.pi},zoomBy:function(c){return i.publicZoom(c,!1),i.pi},zoomAtPoint:function(c,f){return i.publicZoomAtPoint(c,f,!0),i.pi},zoomAtPointBy:function(c,f){return i.publicZoomAtPoint(c,f,!1),i.pi},zoomIn:function(){return this.zoomBy(1+i.options.zoomScaleSensitivity),i.pi},zoomOut:function(){return this.zoomBy(1/(1+i.options.zoomScaleSensitivity)),i.pi},getZoom:function(){return i.getRelativeZoom()},setOnUpdatedCTM:function(c){return i.options.onUpdatedCTM=c===null?null:n.proxy(c,i.publicInstance),i.pi},resetZoom:function(){return i.resetZoom(),i.pi},resetPan:function(){return i.resetPan(),i.pi},reset:function(){return i.reset(),i.pi},fit:function(){return i.fit(),i.pi},contain:function(){return i.contain(),i.pi},center:function(){return i.center(),i.pi},updateBBox:function(){return i.updateBBox(),i.pi},resize:function(){return i.resize(),i.pi},getSizes:function(){return{width:i.width,height:i.height,realZoom:i.getZoom(),viewBox:i.viewport.getViewBox()}},destroy:function(){return i.destroy(),i.pi}}),this.publicInstance};var s=[],p=function(i,c){var f=n.getSvg(i);if(f===null)return null;for(var g=s.length-1;g>=0;g--)if(s[g].svg===f)return s[g].instance.getPublicInstance();return s.push({svg:f,instance:new r(f,c)}),s[s.length-1].instance.getPublicInstance()};return tn=p,tn}var Ja=Ka();const Qa=Wa(Ja);function Bl(e){if(e.type==="element"){let t="";for(const o in e.properties){const l=o.replace(/([A-Z])/g,"-$1").toLowerCase();t+=`${l}="${e.properties[o]}" `}let n="";return e.children&&e.children.length>0&&(n=e.children.map(Bl).join("")),`<${e.tagName} ${t}>${n}</${e.tagName}>`}return""}function Mo(e){return Bl(e)}function es(e){return{1:"circle",2:"line",4:"polygon",20:"rectangle",21:"obround",22:"polygon"}[e]||unsupported}function ts(e){return e.forEach(t=>{t.type==="toolMacro"&&t.children.forEach(n=>{n.type==="macroPrimitive"&&(n.name=es(n.code))})}),e}function ns(e){const t={};for(const n in e.layers){const o=e.layers[n],l=e.parseTreesById[o.id];t[o.id]={fileData:{id:o.id,filename:o.filename,type:o.type,side:o.side,filetype:l.filetype},children:l.children}}for(const n in t){const o=t[n].children;t[n].children=ts(o)}return t}function Dt(e,t){if(!isNaN(e))return e;if(typeof e=="string"&&e.startsWith("$")){const n=parseInt(e.substring(1),10)-1;return t[n]}if(e.operator){const n=Dt(e.left,t),o=Dt(e.right,t);switch(e.operator){case"+":return n+o;case"-":return n-o;case"*":return n*o;case"/":return n/o;default:return"unknown operator"}}return null}function os(e){const t={};for(const n in e){const o=e[n],l=o.children,r={},a={};let u=null;for(const s of l)if(s.type==="toolDefinition")r[s.code]=s.shape;else if(s.type==="toolMacro"){const p=s.children.filter(i=>i.type==="macroPrimitive");a[s.name]={macroName:s.name,primitives:p}}else s.type==="coordinateFormat"&&!u&&(u=s.format[1]);for(const s in r){const p=r[s];if(p.type==="macroShape"){const i=a[p.name],c=p.variableValues,g=i.primitives.map(b=>{let m;try{m=b.parameters.map(C=>Dt(C,c))}catch(C){console.warn("can't do parameters bc",C),m=b.modifiers.map(k=>Dt(k,c))}return{name:b.name,code:b.code,modifiers:m}});i.primitives=g}}t[n]={precision:u,color:`hsla(${Math.random()*360}, 100%, 50%, 0.95)`,filename:o.fileData.filename,id:n,side:o.fileData.side,type:o.fileData.type,commands:l,toolDefinitions:r,toolMacros:a}}return t}const Ue="http://www.w3.org/2000/svg";function ls(e){const t=Math.pow(10,e.precision),n=e.toolDefinitions,o=e.toolMacros,l=e.commands;let r=null,a=null,u=null;const s=document.createElementNS(Ue,"g");s.setAttribute("class","layer"),s.setAttribute("fill",e.color),s.setAttribute("stroke",e.color),s.setAttribute("id",e.id);for(const p of l)if(p.type==="toolChange"&&(r=p.code),p.type==="graphic"){const i=parseFloat(p.coordinates.x)/t,c=parseFloat(p.coordinates.y)/t;if(r){const f=n[r],g=p.graphic;g==="shape"?f.type==="macroShape"?s.appendChild(Eo(f,i,c,o[f.name])):s.appendChild(Eo(f,i,c,null)):g==="move"?(a=i,u=c):g==="segment"&&(s.appendChild(Mn(a,u,i,c,f.diameter)),a=i,u=c)}}return s}function Eo(e,t,n,o=null){switch(e.type){case"circle":return Il(t,n,e.diameter);case"rectangle":return ss(t,n,e.xSize,e.ySize,0);case"obround":return _l(t,n,e.xSize,e.ySize,0);case"macroShape":if(o)return rs(t,n,o);throw new Error("No macro given");default:throw new Error(`This shape with code ${e.code} and name ${e.type} isn't implemented:
 ${e}`)}}function rs(e,t,n){const o=document.createElementNS(Ue,"g");if(o.setAttribute("data-gv-name",n.macroName),n)for(const l of n.primitives){const r=is(l,e,t);r&&(r.setAttribute("data-gv-name",l.name),o.appendChild(r))}return o}function is(e,t,n){switch(e.name){case"circle":const[,o,l,r]=e.modifiers;return Il(t+l,n+r,o);case"line":const[,a,u,s,p,i]=e.modifiers;return Mn(t+a,n+u,t+s,n+p,i);case"polygon":const c=e.modifiers.slice(2,e.modifiers.length-1);return as(t,n,c);case"rectangle":if(e.modifiers.length==7){const[,k,$,T,xe,Me,$e]=e.modifiers;return Mn(t+$,n+T,t+xe,n+Me,k,$e)}else throw new Error("Other definition for the primitive rectangle not implemented.");case"obround":const[,f,g,b,m,C]=e.modifiers;return _l(t+b,n+m,f,g,C);default:throw new Error(`This primitive with code ${e.code} and name ${e.name} isn't known:
 ${e}`)}}function Il(e,t,n){const o=document.createElementNS(Ue,"circle");return o.setAttribute("cx",e),o.setAttribute("cy",t),o.setAttribute("r",n/2),o.setAttribute("fill","inherit"),o.setAttribute("stroke","none"),o}function Mn(e,t,n,o,l,r=null){const a=document.createElementNS(Ue,"line");if(a.setAttribute("x1",e),a.setAttribute("y1",t),a.setAttribute("x2",n),a.setAttribute("y2",o),a.setAttribute("fill","inherit"),a.setAttribute("stroke","inherit"),a.setAttribute("stroke-width",l),r&&r!=0){const u=(e+n)/2,s=(t+o)/2;a.setAttribute("transform",`rotate(${r}, ${u}, ${s})`)}return a}function as(e,t,n){const o=document.createElementNS(Ue,"polygon"),l=n.map((r,a)=>a%2===0?e+r:t+r).join(" ");return o.setAttribute("points",l),o.setAttribute("fill","inherit"),o.setAttribute("stroke","none"),o}function ss(e,t,n,o,l){const r=document.createElementNS(Ue,"rect");return r.setAttribute("x",e-n/2),r.setAttribute("y",t-o/2),r.setAttribute("width",Math.abs(n)),r.setAttribute("height",Math.abs(o)),r.setAttribute("transform",`rotate(${l}, ${e}, ${t})`),r.setAttribute("fill","inherit"),r.setAttribute("stroke","none"),r}function _l(e,t,n,o,l){const r=document.createElementNS(Ue,"path"),a=n/2,u=o/2,s=Math.min(a,u),p=`
        M ${e+a-s},${t-u}
        A ${s},${s} 0 0,1 ${e+a},${t-u+s}
        L ${e+a},${t+u-s}
        A ${s},${s} 0 0,1 ${e+a-s},${t+u}
        L ${e-a+s},${t+u}
        A ${s},${s} 0 0,1 ${e-a},${t+u-s}
        L ${e-a},${t-u+s}
        A ${s},${s} 0 0,1 ${e-a+s},${t-u}
        Z
    `;return r.setAttribute("d",p),r.setAttribute("fill","inherit"),r.setAttribute("stroke","none"),r.setAttribute("transform",`rotate(${l}, ${e}, ${t})`),r}const us=document.getElementById("gerber-input"),Po=document.getElementById("svg"),K=Qa("#svg",{zoomScaleSensitivity:.3,preventMouseEventsDefault:!1,minZoom:.1,maxZoom:100,onZoom:function(e){Re.value=(Math.log(e)-jt)/Gn*100},beforePan:function(e,t){const l=this.getSizes(),r=-((l.viewBox.x+l.viewBox.width)*l.realZoom)+100,a=l.width-100-l.viewBox.x*l.realZoom,u=-((l.viewBox.y+l.viewBox.height)*l.realZoom)+100,s=l.height-100-l.viewBox.y*l.realZoom,p={};return p.x=Math.max(r,Math.min(a,t.x)),p.y=Math.max(u,Math.min(s,t.y)),p}});window.addEventListener("resize",()=>{Po.clientWidth>0&&Po.clientHeight>0&&(K.resize(),K.center())});const Hn=document.querySelector(".svg-pan-zoom_viewport"),Wn=document.getElementById("layers-panel"),$o=document.getElementById("layers-list"),$t=document.getElementById("info-panel"),At=document.getElementById("info");At.addEventListener("click",()=>{$t.classList.contains("hidden")?($t.classList.remove("hidden"),At.classList.add("active")):($t.classList.add("hidden"),At.classList.remove("active"))});const cs=document.getElementById("close-info");cs.addEventListener("click",()=>{$t.classList.add("hidden"),At.classList.remove("active")});let Ke="top",nn,on;const Ao={};let Se=document.createElementNS("http://www.w3.org/2000/svg","g");Se.id="topLayer";Se.classList.add("hidden");Hn.appendChild(Se);let Ce=document.createElementNS("http://www.w3.org/2000/svg","g");Ce.id="bottomLayer";Ce.classList.add("hidden");Hn.appendChild(Ce);let he=document.createElementNS("http://www.w3.org/2000/svg","g");he.id="allLayers";he.classList.add("hidden");Hn.appendChild(he);const ps=document.getElementById("bt1");ps.addEventListener("click",()=>{Ke="top",Se.classList.remove("hidden"),Ce.classList.add("hidden"),he.classList.add("hidden"),Wn.classList.add("hidden"),K.updateBBox()});const ds=document.getElementById("bt2");ds.addEventListener("click",()=>{Ke="bottom",Se.classList.add("hidden"),Ce.classList.remove("hidden"),he.classList.add("hidden"),Wn.classList.add("hidden"),K.updateBBox()});const hs=document.getElementById("bt3");hs.addEventListener("click",()=>{Ke="layers",Se.classList.add("hidden"),Ce.classList.add("hidden"),he.classList.remove("hidden"),Wn.classList.remove("hidden"),K.updateBBox()});const fs=document.getElementById("reset");fs.addEventListener("click",()=>{K.reset()});const ms=document.getElementById("zoom-in");ms.addEventListener("click",()=>{console.log("zooming in"),K.zoomIn()});const gs=document.getElementById("zoom-out");gs.addEventListener("click",()=>{K.zoomOut()});const Re=document.getElementById("zoom-slider");Re.min=0;Re.max=100;Re.step=.01;const jt=Math.log(.1),ys=Math.log(100),Gn=ys-jt;Re.value=(Math.log(K.getZoom())-jt)/Gn*100;Re.addEventListener("input",()=>{const e=parseFloat(Re.value),t=Math.exp(jt+Gn*e/100);K.zoom(t)});us.addEventListener("change",async e=>{const t=Array.from(e.target.files);if(t.length>0){const n=await qa(t),o=Fa(n),l=Va(o);nn=Ha(l);const r=ns(n);on=os(r),$o.innerHTML="",he.innerHTML="",Se.innerHTML=Mo(nn.top),Ce.innerHTML=Mo(nn.bottom);for(const a in on){const u=on[a],s=ls(u);Ao[a]={layer:s,color:u.color,updateColor:function(p){this.color=p,this.layer.setAttribute("fill",p),this.layer.setAttribute("stroke",p)},id:u.id,type:u.type,side:u.side,filename:u.filename},$o.appendChild(vs(Ao[a])),he.appendChild(s)}he.style.transform="scale(1,-1)",Se.classList.add("hidden"),Ce.classList.add("hidden"),he.classList.add("hidden"),Ke==="top"?Se.classList.remove("hidden"):Ke==="bottom"?Ce.classList.remove("hidden"):Ke==="layers"&&he.classList.remove("hidden"),K.updateBBox(),K.resize(),K.fit(),K.center()}});function vs(e){const t=document.createElement("div");t.classList.add("layer-control");const n=document.createElement("input");n.type="checkbox",n.checked=!0,n.addEventListener("change",()=>{n.checked?e.layer.classList.remove("hidden"):e.layer.classList.add("hidden")});const o=document.createElement("input");o.type="color",o.value=e.color,o.addEventListener("change",()=>{e.updateColor(o.value)});const l=document.createElement("span");return l.textContent=e.type+" - "+e.side,t.classList.add("tooltip"),t.setAttribute("data-gv-tooltip",e.type+" - "+e.side),t.appendChild(o),t.appendChild(l),t.appendChild(n),t}
